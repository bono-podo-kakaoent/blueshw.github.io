{"version":3,"sources":["webpack:///./src/components/EssayHeader.js","webpack:///./src/pages/essay.js","webpack:///./src/components/Layout.js","webpack:///./src/components/list.js","webpack:///./src/components/css/List.module.scss","webpack:///./src/components/css/EssayHeader.module.scss"],"names":["EssayHeader","className","s","wrapper","text1","text2","href","style","borderBottom","color","textDecoration","Essay","props","pageQuery","Template","children","data","useState","showMenu","setShowMenu","showHeader","setShowHeader","siteTitle","get","prevScrollY","setPrevScrollY","useEffect","handleScroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","container","htmlAttributes","lang","title","name","content","onClick","onClickMenu","cn","contentWrapper","Posts","location","isTagPage","pageContext","DEFAULT_SHOW_COUNT","showCount","setShowCount","posts","totalCount","siteDescription","querySelectorAll","forEach","elem","triggerDiff","getBoundingClientRect","top","innerHeight","isElementUnderBottom","opacity","transform","showPosts","useMemo","filter","_","index","meta","push","tagPageTitleWrapper","tagName","tag","list","map","node","fields","slug","key","boxShadow","to","desc","dangerouslySetInnerHTML","__html","excerpt","date","frontmatter","length","moreWrapper","moreButton","module","exports"],"mappings":"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","file":"component---src-pages-essay-js-3a959ff7590f697a5286.js","sourcesContent":["import React from 'react';\r\nimport s from './css/EssayHeader.module.scss';\r\n\r\nexport default function EssayHeader() {\r\n  return (\r\n    <div className={s.wrapper}>\r\n      <div className={s.text1}>\r\n        더이상 이 블로그에서 에세이를 쓰지 않습니다.\r\n      </div>\r\n      <div className={s.text2}>\r\n        에세이는{' '}\r\n        <a\r\n          href=\"https://brunch.co.kr/@blueshw83\"\r\n          style={{\r\n            borderBottom: '3px solid #d7c3ee',\r\n            color: '#aaa',\r\n            textDecoration: 'none',\r\n          }}\r\n        >\r\n          브런치\r\n        </a>\r\n        에서 읽어주세요.\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Posts from '../components/list';\r\n\r\nimport EssayHeader from '../components/EssayHeader';\r\n\r\nexport default function Essay(props) {\r\n  return (\r\n    <>\r\n      <EssayHeader />\r\n      <Posts {...props} />\r\n    </>\r\n  );\r\n}\r\n\r\nexport const pageQuery = graphql`\r\n  query {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        description\r\n      }\r\n    }\r\n    allMarkdownRemark(\r\n      filter: {\r\n        frontmatter: {\r\n          category: { in: [\"essay\", \"review\"] }\r\n          draft: { ne: true }\r\n        }\r\n      }\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          excerpt(truncate: true)\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            date(formatString: \"DD MMMM, YYYY\")\r\n            title\r\n            category\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport '../common/css/reset.scss';\r\nimport 'prismjs/themes/prism-tomorrow.css';\r\nimport '../common/css/common.scss';\r\nimport OutsideClick from './OutsideClick';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\nimport s from './css/Layout.module.scss';\r\nimport cn from 'classnames';\r\n\r\nexport default function Template(props) {\r\n  const { children, data } = props;\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [showHeader, setShowHeader] = useState(true);\r\n  const siteTitle = get(data, 'site.siteMetadata.title');\r\n  const [prevScrollY, setPrevScrollY] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const curScrollY = window.pageYOffset;\r\n      if (curScrollY > 80 && prevScrollY < curScrollY && showHeader) {\r\n        setShowHeader(false);\r\n      } else if (\r\n        (curScrollY <= 80 || prevScrollY > curScrollY) &&\r\n        !showHeader\r\n      ) {\r\n        setShowHeader(true);\r\n      }\r\n      showMenu && setShowMenu(false);\r\n      setPrevScrollY(window.pageYOffset);\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      document.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, [prevScrollY]);\r\n  return (\r\n    <div className={s.container}>\r\n      <Helmet htmlAttributes={{ lang: 'ko' }} title={siteTitle}>\r\n        <meta\r\n          name=\"google-site-verification\"\r\n          content=\"R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA\"\r\n        />\r\n        <meta\r\n          name=\"naver-site-verification\"\r\n          content=\"23eddf7267bb527337927baff11fc26157637f30\"\r\n        />\r\n      </Helmet>\r\n      <OutsideClick onClick={() => setShowMenu(false)}>\r\n        <Header\r\n          {...props}\r\n          showMenu={showMenu}\r\n          showHeader={showHeader}\r\n          onClickMenu={() => setShowMenu(!showMenu)}\r\n        />\r\n      </OutsideClick>\r\n      <main className={cn(s.contentWrapper, 'contents')}>{children}</main>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo, useEffect } from 'react';\r\nimport { Link } from 'gatsby';\r\nimport Layout from './Layout';\r\nimport get from 'lodash/get';\r\nimport { Helmet } from 'react-helmet';\r\nimport s from './css/List.module.scss';\r\n\r\nexport default function Posts({ data, location, isTagPage, pageContext }) {\r\n  const [showCount, setShowCount] = useState(DEFAULT_SHOW_COUNT);\r\n  const posts = get(data, 'allMarkdownRemark.edges');\r\n  const totalCount = get(data, 'allMarkdownRemark.totalCount');\r\n  const siteDescription = get(data, 'site.siteMetadata.description');\r\n\r\n  useEffect(() => {\r\n    setShowCount(DEFAULT_SHOW_COUNT);\r\n  }, [posts]);\r\n\r\n  useEffect(() => {\r\n    function isElementUnderBottom(elem, triggerDiff) {\r\n      const { top } = elem.getBoundingClientRect();\r\n      const { innerHeight } = window;\r\n      return top > innerHeight + (triggerDiff || 0);\r\n    }\r\n    function handleScroll() {\r\n      const elems = document.querySelectorAll('.up-on-scroll');\r\n      elems.forEach((elem) => {\r\n        if (isElementUnderBottom(elem, 20)) {\r\n          elem.style.opacity = '0';\r\n          elem.style.transform = 'translateY(70px)';\r\n        } else {\r\n          elem.style.opacity = '1';\r\n          elem.style.transform = 'translateY(0px)';\r\n        }\r\n      });\r\n    }\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const showPosts = useMemo(\r\n    () => posts.filter((_, index) => index < showCount),\r\n    [showCount, posts]\r\n  );\r\n\r\n  const meta = [{ name: 'description', content: siteDescription }];\r\n  isTagPage && meta.push({ name: 'robots', content: 'noindex' });\r\n\r\n  return (\r\n    <Layout location={location} data={data}>\r\n      <Helmet meta={meta} />\r\n      {isTagPage && (\r\n        <div className={s.tagPageTitleWrapper}>\r\n          <div className={s.tagName}>{pageContext.tag}</div>\r\n          <div className={s.tagName}>({totalCount})</div>\r\n        </div>\r\n      )}\r\n      <ul className={s.list}>\r\n        {showPosts.map(({ node }) => {\r\n          const title = get(node, 'frontmatter.title') || node.fields.slug;\r\n          return (\r\n            <li className=\"up-on-scroll\" key={node.fields.slug}>\r\n              <Link style={{ boxShadow: 'none' }} to={node.fields.slug}>\r\n                <span className={s.title}>{title}</span>\r\n              </Link>\r\n              <div\r\n                className={s.desc}\r\n                dangerouslySetInnerHTML={{ __html: node.excerpt }}\r\n              />\r\n              <div className={s.date}>{node.frontmatter.date}</div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      {showCount <= posts.length && (\r\n        <div className={s.moreWrapper}>\r\n          <button\r\n            className={s.moreButton}\r\n            onClick={() => setShowCount(showCount + 25)}\r\n          >\r\n            show more\r\n          </button>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\nconst DEFAULT_SHOW_COUNT = 25;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagPageTitleWrapper\":\"List-module--tagPageTitleWrapper--qdIZC\",\"tagName\":\"List-module--tagName--3knWL\",\"tagTotalCount\":\"List-module--tagTotalCount--3nfGu\",\"list\":\"List-module--list--Ddj7B\",\"title\":\"List-module--title--2fjnS\",\"desc\":\"List-module--desc--jHhpz\",\"date\":\"List-module--date--3j8jr\",\"moreWrapper\":\"List-module--moreWrapper--dWdU4\",\"moreButton\":\"List-module--moreButton--3vptn\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"EssayHeader-module--wrapper--3FZ1P\",\"text1\":\"EssayHeader-module--text1--1PhKW\",\"text2\":\"EssayHeader-module--text2--3r_-L\"};"],"sourceRoot":""}