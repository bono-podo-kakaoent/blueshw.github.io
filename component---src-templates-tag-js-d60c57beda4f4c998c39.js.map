{"version":3,"sources":["webpack:///./src/components/Layout.js","webpack:///./src/components/List.js","webpack:///./src/templates/tag.js","webpack:///./src/components/css/List.module.scss"],"names":["Template","props","children","data","useState","showMenu","setShowMenu","showHeader","setShowHeader","siteTitle","get","prevScrollY","setPrevScrollY","useEffect","handleScroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","TagManager","initialize","gtmId","className","s","container","htmlAttributes","lang","title","name","content","onClick","onClickMenu","cn","contentWrapper","Posts","location","isTagPage","pageContext","DEFAULT_SHOW_COUNT","showCount","setShowCount","posts","totalCount","siteDescription","querySelectorAll","forEach","elem","triggerDiff","getBoundingClientRect","top","innerHeight","isElementUnderBottom","style","opacity","transform","showPosts","useMemo","filter","_","index","meta","push","Layout","Helmet","tagPageTitleWrapper","tagName","tag","list","map","node","fields","slug","key","boxShadow","to","desc","dangerouslySetInnerHTML","__html","excerpt","date","frontmatter","length","moreWrapper","moreButton","Tag","pageQuery","module","exports"],"mappings":"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","file":"component---src-templates-tag-js-d60c57beda4f4c998c39.js","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport '../common/css/reset.scss';\r\nimport 'prismjs/themes/prism-tomorrow.css';\r\nimport '../common/css/common.scss';\r\nimport OutsideClick from './OutsideClick';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\nimport s from './css/Layout.module.scss';\r\nimport cn from 'classnames';\r\nimport TagManager from 'react-gtm-module';\r\n\r\nexport default function Template(props) {\r\n  const { children, data } = props;\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [showHeader, setShowHeader] = useState(true);\r\n  const siteTitle = get(data, 'site.siteMetadata.title');\r\n  const [prevScrollY, setPrevScrollY] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const curScrollY = window.pageYOffset;\r\n      if (curScrollY > 80 && prevScrollY < curScrollY && showHeader) {\r\n        setShowHeader(false);\r\n      } else if (\r\n        (curScrollY <= 80 || prevScrollY > curScrollY) &&\r\n        !showHeader\r\n      ) {\r\n        setShowHeader(true);\r\n      }\r\n      showMenu && setShowMenu(false);\r\n      setPrevScrollY(window.pageYOffset);\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      document.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, [prevScrollY]);\r\n\r\n  useEffect(() => {\r\n    const tagManagerArgs = {\r\n      gtmId: 'GTM-N2Z8LLKT'\r\n    };\r\n    TagManager.initialize(tagManagerArgs);\r\n  }, []);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <Helmet htmlAttributes={{ lang: 'ko' }} title={siteTitle}>\r\n        <meta\r\n          name=\"google-site-verification\"\r\n          content=\"R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA\"\r\n        />\r\n        <meta\r\n          name=\"naver-site-verification\"\r\n          content=\"23eddf7267bb527337927baff11fc26157637f30\"\r\n        />\r\n        \r\n      </Helmet>\r\n      <OutsideClick onClick={() => setShowMenu(false)}>\r\n        <Header\r\n          {...props}\r\n          showMenu={showMenu}\r\n          showHeader={showHeader}\r\n          onClickMenu={() => setShowMenu(!showMenu)}\r\n        />\r\n      </OutsideClick>\r\n      <main className={cn(s.contentWrapper, 'contents')}>{children}</main>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo, useEffect } from 'react';\r\nimport { Link } from 'gatsby';\r\nimport Layout from './Layout';\r\nimport get from 'lodash/get';\r\nimport { Helmet } from 'react-helmet';\r\nimport s from './css/List.module.scss';\r\n\r\nexport default function Posts({ data, location, isTagPage, pageContext }) {\r\n  const [showCount, setShowCount] = useState(DEFAULT_SHOW_COUNT);\r\n  const posts = get(data, 'allMarkdownRemark.edges');\r\n  const totalCount = get(data, 'allMarkdownRemark.totalCount');\r\n  const siteDescription = get(data, 'site.siteMetadata.description');\r\n\r\n  useEffect(() => {\r\n    setShowCount(DEFAULT_SHOW_COUNT);\r\n  }, [posts]);\r\n\r\n  useEffect(() => {\r\n    function isElementUnderBottom(elem, triggerDiff) {\r\n      const { top } = elem.getBoundingClientRect();\r\n      const { innerHeight } = window;\r\n      return top > innerHeight + (triggerDiff || 0);\r\n    }\r\n    function handleScroll() {\r\n      const elems = document.querySelectorAll('.up-on-scroll');\r\n      elems.forEach((elem) => {\r\n        if (isElementUnderBottom(elem, 20)) {\r\n          elem.style.opacity = '0';\r\n          elem.style.transform = 'translateY(70px)';\r\n        } else {\r\n          elem.style.opacity = '1';\r\n          elem.style.transform = 'translateY(0px)';\r\n        }\r\n      });\r\n    }\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => window.removeEventListener('scroll', handleScroll);\r\n  }, []);\r\n\r\n  const showPosts = useMemo(\r\n    () => posts.filter((_, index) => index < showCount),\r\n    [showCount, posts]\r\n  );\r\n\r\n  const meta = [{ name: 'description', content: siteDescription }];\r\n  isTagPage && meta.push({ name: 'robots', content: 'noindex' });\r\n\r\n  return (\r\n    <Layout location={location} data={data}>\r\n      <Helmet meta={meta} />\r\n      {isTagPage && (\r\n        <div className={s.tagPageTitleWrapper}>\r\n          <div className={s.tagName}>{pageContext.tag}</div>\r\n          <div className={s.tagName}>({totalCount})</div>\r\n        </div>\r\n      )}\r\n      <ul className={s.list}>\r\n        {showPosts.map(({ node }) => {\r\n          const title = get(node, 'frontmatter.title') || node.fields.slug;\r\n          return (\r\n            <li className=\"up-on-scroll\" key={node.fields.slug}>\r\n              <Link style={{ boxShadow: 'none' }} to={node.fields.slug}>\r\n                <span className={s.title}>{title}</span>\r\n              </Link>\r\n              <div\r\n                className={s.desc}\r\n                dangerouslySetInnerHTML={{ __html: node.excerpt }}\r\n              />\r\n              <div className={s.date}>{node.frontmatter.date}</div>\r\n            </li>\r\n          );\r\n        })}\r\n      </ul>\r\n      {showCount <= posts.length && (\r\n        <div className={s.moreWrapper}>\r\n          <button\r\n            className={s.moreButton}\r\n            onClick={() => setShowCount(showCount + 25)}\r\n          >\r\n            show more\r\n          </button>\r\n        </div>\r\n      )}\r\n    </Layout>\r\n  );\r\n}\r\nconst DEFAULT_SHOW_COUNT = 25;\r\n","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\nimport Posts from '../components/List';\r\n\r\nexport default function Tag(props) {\r\n  return <Posts {...props} isTagPage={true} />;\r\n}\r\nexport const pageQuery = graphql`\r\n  query($tag: String) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        description\r\n      }\r\n    }\r\n    allMarkdownRemark(\r\n      limit: 2000\r\n      sort: { fields: [frontmatter___date], order: DESC }\r\n      filter: { frontmatter: { draft: { ne: true }, tags: { in: [$tag] } } }\r\n    ) {\r\n      totalCount\r\n      edges {\r\n        node {\r\n          excerpt(truncate: true)\r\n          fields {\r\n            slug\r\n          }\r\n          frontmatter {\r\n            date(formatString: \"DD MMMM, YYYY\")\r\n            title\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagPageTitleWrapper\":\"List-module--tagPageTitleWrapper--qdIZC\",\"tagName\":\"List-module--tagName--3knWL\",\"tagTotalCount\":\"List-module--tagTotalCount--3nfGu\",\"list\":\"List-module--list--Ddj7B\",\"title\":\"List-module--title--2fjnS\",\"desc\":\"List-module--desc--jHhpz\",\"date\":\"List-module--date--3j8jr\",\"moreWrapper\":\"List-module--moreWrapper--dWdU4\",\"moreButton\":\"List-module--moreButton--3vptn\"};"],"sourceRoot":""}