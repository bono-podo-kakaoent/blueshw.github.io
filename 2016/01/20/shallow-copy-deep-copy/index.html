<!DOCTYPE html><html lang="ko"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.ee4255de6296cfd5f2e7.css">.container-404{font-family:Arial;-webkit-overflow-scrolling:touch;overflow-x:hidden;display:flex;justify-content:center;align-items:center;position:fixed;left:0;top:0;width:100vw;height:100vh;overflow:hidden;opacity:0;transition:opacity 1s}.container-404>span{padding:1.5vh;font-size:25vh;font-weight:700;color:#333;cursor:default}.container-404>.home{position:fixed;right:3vw;bottom:3vw;margin:0;padding:0;color:#999;cursor:pointer;text-decoration:underline;font-size:13px}.Menu-module--container--PUd6S{margin-right:15px;margin-top:3px;font-size:16px}.Menu-module--verticalContainer--2ngD2{margin-top:15px;margin-bottom:15px;width:100vw;font-size:16px;text-align:center}.Menu-module--verticalContainer--2ngD2.Menu-module--selected--hpM20{font-size:19px}.Menu-module--menuName--38jES{font-weight:400;color:#888}.Menu-module--menuName--38jES.Menu-module--selectedMenu--_FK5k{font-weight:500;color:#333}.Header-module--header--1QdxE{display:flex;width:100%;padding:10px;align-items:center;background-color:#fff;transition:transform .5s ease;transition-delay:.2s;position:fixed;left:0;top:0;height:50px;border-bottom:1px solid #e8e8e8;z-index:200}.Header-module--header--1QdxE.Header-module--showHeader--2BpxF{transform:translateY(0)}.Header-module--header--1QdxE.Header-module--hideHeader--1SJHJ{transform:translateY(-50px)}.Header-module--header--1QdxE .Header-module--headerTitle--1AL1t{flex:0 0 auto;margin-right:auto;margin-left:20px;margin-top:3px;color:#888;font-size:22px;cursor:pointer}@media(max-width:600px){.Header-module--header--1QdxE .Header-module--headerTitle--1AL1t{margin-left:10px}}.Header-module--header--1QdxE nav>ul{display:flex;margin:0;padding:0}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_{padding:5px;width:30px;height:28px;cursor:pointer;overflow:hidden}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_>div{width:20px;padding-top:2px;background-color:#888}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_>div:first-child{margin-bottom:6px;transition:all .4s;transform-origin:100% 0;transform:rotate(0)}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_>div:nth-child(2){margin-bottom:6px;transition:transform .5s;transform:scale(1);transform-origin:100% 50%}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_>div:nth-child(3){transition:all .4s;transform:rotate(0);transform-origin:100% 100%}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_.Header-module--isInTransition--3U-WG>div:first-child{width:24px;transform:rotate(-45deg)}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_.Header-module--isInTransition--3U-WG>div:nth-child(2){transform:scale(0)}.Header-module--header--1QdxE .Header-module--menuIconWrapper--DkLf_.Header-module--isInTransition--3U-WG>div:nth-child(3){width:24px;transform:rotate(45deg)}.Header-module--mobileMenuWrapper--jUUWO{width:100%;background-color:#f3f3f3;position:fixed;left:0;top:50px;z-index:100;opacity:.9;max-height:0;transition:max-height .3s ease;overflow:hidden}.Header-module--mobileMenuWrapper--jUUWO.Header-module--showMenu--2VTc0{max-height:400px}.Header-module--mobileMenuWrapper--jUUWO.Header-module--showBorder--3bnh3{border-bottom:1px solid #e8e8e8}.Header-module--mobileMenuWrapper--jUUWO>ul{margin:10px}.Header-module--mobileMenuWrapper--jUUWO>ul>div{display:flex;justify-content:center;align-items:center}abbr,address,article,aside,audio,b,blockquote,body,canvas,cite,code,dd,del,details,dfn,div,dl,dt,em,fieldset,figcaption,figure,footer,form,header,hgroup,html,i,img,ins,kbd,label,legend,li,mark,menu,nav,object,ol,p,pre,q,samp,section,small,span,strong,sub,summary,sup,time,ul,var,video{margin:0;padding:0;border:0;outline:0;font-size:100%;vertical-align:baseline;background:transparent}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}iframe,img{width:100%}iframe{margin:20px 0}.adsbygoogle iframe{margin:0}nav ul{list-style:none}blockquote,q{quotes:none}blockquote>p>a{display:inline-block}h1,h2,h3,h4,h5,h6{margin-top:.5em;margin-bottom:.5em;padding-top:1em}blockquote:after,blockquote:before,q:after,q:before{content:"";content:none}a{margin:0;padding:0;font-size:100%;vertical-align:baseline;background:transparent}ins{text-decoration:none}ins,mark{background-color:#fff;color:#000}mark{font-style:italic;font-weight:700}del{text-decoration:line-through}abbr[title],dfn[title]{border-bottom:1px dotted;cursor:help}hr{display:block;height:1px;border:0;border-top:1px solid #ccc;margin:1em 0;padding:0}input,select{vertical-align:middle}p{margin-bottom:1.8rem}code.language-text{font-size:14px!important}table{margin:40px auto;width:80%;border-spacing:0;border-collapse:collapse}table,table tr{padding:0;border-top:1px solid #ccc}table tr{background-color:#fff;margin:0}table tr:nth-child(2n){background-color:#f8f8f8}table tr th{font-weight:700}table tr td,table tr th{border-bottom:1px solid #ccc;text-align:left;margin:0;padding:6px 13px}table tr td :first-child,table tr th :first-child{margin-top:0}table tr td:not(:first-child),table tr th:not(:first-child){border-left:1px solid #ccc}table tr td :last-child,table tr th :last-child{margin-bottom:0}code[class*=language-],pre[class*=language-]{color:#ccc;background:none;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}div,header{box-sizing:border-box}@media(min-width:768px){.showGte768{display:block}.showLt768{display:none}}@media(max-width:767px){.showGte768{display:none}.showLt768{display:block}}.contents a{transition:background .5s}.contents a:not(.gatsby-resp-image-link){color:#3a3a3a;text-decoration:none;border-bottom:3px solid #d7c3ee}.contents nav.table-of-contents a{color:#888;text-decoration:none;border-bottom:none;transition:all .3s}.contents nav.table-of-contents a>u{text-decoration:none}.contents nav.table-of-contents ul li p{margin-bottom:0}.contents a:active:not(.gatsby-resp-image-link),.contents a:hover:not(.gatsby-resp-image-link){outline-width:0;text-shadow:none;background-color:#e0d6eb}.contents a.anchor-header{border:none;top:20px}.contents a.anchor-header:hover{background:none}.contents ul{margin-left:15px;margin-bottom:1.8rem}.contents ol{margin-left:20px;margin-bottom:1.8rem}.contents>ul li a{word-break:break-all}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d;margin-top:.1rem;margin-bottom:1.8rem;border-radius:4px}@media(max-width:600px){pre[class*=language-]{margin-left:-1rem;margin-right:-1rem;font-size:.875rem;border-radius:0}}:not(pre)>code[class*=language-]{background:#dfdfdf;color:#222;padding:3px 5px;font-weight:600}blockquote{margin:20px 15px 20px 0;padding-left:20px;border-left:5px solid #e5e5e5}.frame-wrap{overflow:auto;-webkit-overflow-scrolling:touch;width:100%}#gatsby-noscript{display:none}@media screen and (max-width:768px){.Layout-module--container--3D7Fi{overflow-x:hidden}}.Layout-module--contentWrapper--2iI6d{margin-left:auto;margin-right:auto;padding:45px 15px;max-width:720px}.List-module--tagPageTitleWrapper--qdIZC{display:flex;flex-direction:column;justify-content:center;align-items:center;margin:20px auto 60px}.List-module--tagPageTitleWrapper--qdIZC .List-module--tagName--3knWL{font-size:25px;line-height:1.6;text-align:center}.List-module--tagPageTitleWrapper--qdIZC .List-module--tagTotalCount--3nfGu{font-size:15px;color:#888;text-align:center}ul.List-module--list--Ddj7B{list-style:none;margin-left:0}ul.List-module--list--Ddj7B>li{margin-bottom:50px;transition:transform .7s,opacity .7s}ul.List-module--list--Ddj7B>li .List-module--title--2fjnS{margin-bottom:15px;font-size:22px;line-height:1.7}ul.List-module--list--Ddj7B>li .List-module--desc--jHhpz{font-size:15px;line-height:1.8;color:#999;margin-bottom:6px}ul.List-module--list--Ddj7B>li .List-module--date--3j8jr{font-size:14px;margin-bottom:5px;color:#888;width:100%;text-align:right;opacity:.8}.List-module--moreWrapper--dWdU4{display:flex;justify-content:center;width:100%;margin-top:70px}.List-module--moreWrapper--dWdU4 .List-module--moreButton--3vptn{font-size:18px;font-weight:400;color:#999;padding:5px 10px;background-color:transparent;border-radius:4px;border:1px solid #dedede;cursor:pointer;transition:all .7s;outline:none}.List-module--moreWrapper--dWdU4 .List-module--moreButton--3vptn:hover{background-color:#bbb;color:#fff;border:1px solid transparent}.EssayHeader-module--wrapper--3FZ1P{display:flex;flex-direction:column;margin:100px 20px 0;justify-content:center;align-items:center;color:#aaa;font-size:13px}.EssayHeader-module--wrapper--3FZ1P .EssayHeader-module--text1--1PhKW{margin-bottom:5px}.EssayHeader-module--wrapper--3FZ1P .EssayHeader-module--text2--3r_-L>a{border-bottom:3px solid #d7c3ee;color:#aaa;text-decoration:none}.TagList-module--container--L4jLY{margin-top:25px}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0{display:flex;flex-wrap:wrap}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP{margin-right:13px;margin-bottom:25px;font-size:18px;height:30px}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7{padding:10px 20px;border-radius:18px;cursor:pointer;transition:.5s}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7:hover{background-color:#aaa;color:#eee;font-weight:600}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7.TagList-module--over15--9wygE{background-color:#d1d1d1;color:#333}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7.TagList-module--over10--20eXh{background-color:#dfdfdf;color:#555}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7.TagList-module--over5--kDnW8{background-color:#eaeaea;color:#777}.TagList-module--container--L4jLY .TagList-module--wrapper--2vvD0 .TagList-module--group--3RJDP .TagList-module--tag--30qG7.TagList-module--under5--3Iuc9{background-color:#f3f3f3;color:#999;font-weight:300}nav.TableOfContents-module--container--n70xy{margin-top:80px;color:#888;width:calc(50vw - 410px);display:none}@media screen and (min-width:1200px){nav.TableOfContents-module--container--n70xy{position:-webkit-sticky;position:sticky;top:70px;display:block;max-width:360px;margin-right:20px;overflow:auto;word-break:break-word;max-height:calc(100vh - 200px);font-size:14px}}nav.TableOfContents-module--container--n70xy .TableOfContents-module--title--10vJa{margin-bottom:15px;margin-left:20px}nav.TableOfContents-module--container--n70xy .TableOfContents-module--contents--I_bZr ul{list-style:none;margin-left:20px;margin-bottom:0}nav.TableOfContents-module--container--n70xy .TableOfContents-module--contents--I_bZr ul>li{line-height:1.5rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}nav.TableOfContents-module--container--n70xy .TableOfContents-module--contents--I_bZr ul>li a.TableOfContents-module--isCurrent--1WRDY{font-size:15px;color:#333;font-weight:600}.Post-module--container--2YQwi{position:relative}.Post-module--container--2YQwi .Post-module--tocWrapper--2QQTs{position:absolute;top:0;height:100%;right:calc(-50vw - -360px)}.Post-module--container--2YQwi .Post-module--title--2VXvj{font-size:24px;line-height:1.1}.Post-module--container--2YQwi .Post-module--date--21BHx{margin-bottom:70px;margin-top:7px;color:#bbb}.Post-module--container--2YQwi .Post-module--postWrapper--36i9Z{color:#333;line-height:30px;position:static}.Post-module--container--2YQwi .Post-module--footer--OQfhK{margin-top:30px}.Post-module--container--2YQwi .Post-module--footer--OQfhK .Post-module--otherPosts--3j5YT{display:flex;justify-content:space-between;margin-bottom:30px;padding-top:30px;font-size:15px;border-top:1px solid #eee}.Post-module--container--2YQwi .Post-module--footer--OQfhK .Post-module--otherPosts--3j5YT .Post-module--other--3aWMw{line-height:1.8;margin-right:5px;max-width:280px}.Post-module--container--2YQwi .Post-module--footer--OQfhK .Post-module--otherPosts--3j5YT .Post-module--previous--1SAAG{margin-right:5px}.Post-module--container--2YQwi .Post-module--footer--OQfhK .Post-module--otherPosts--3j5YT .Post-module--next--378Ow{margin-left:5px;text-align:right}.Post-module--container--2YQwi .Post-module--footer--OQfhK .Post-module--adsenseWrapper--cXBjK{margin-bottom:40px}</style><meta name="generator" content="Gatsby 2.24.73"/><style type="text/css">
    .anchor-header.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .anchor-header.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .anchor-header svg,
    h2 .anchor-header svg,
    h3 .anchor-header svg,
    h4 .anchor-header svg,
    h5 .anchor-header svg,
    h6 .anchor-header svg {
      visibility: hidden;
    }
    h1:hover .anchor-header svg,
    h2:hover .anchor-header svg,
    h3:hover .anchor-header svg,
    h4:hover .anchor-header svg,
    h5:hover .anchor-header svg,
    h6:hover .anchor-header svg,
    h1 .anchor-header:focus svg,
    h2 .anchor-header:focus svg,
    h3 .anchor-header:focus svg,
    h4 .anchor-header:focus svg,
    h5 .anchor-header:focus svg,
    h6 .anchor-header:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 0)
          }), 0)
        }
      }
    })
  </script><link rel="preconnect dns-prefetch" href="https://www.google-analytics.com"/><link rel="alternate" type="application/rss+xml" href="/rss.xml"/><link rel="icon" href="/favicon-32x32.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="manifest" href="/manifest.webmanifest"/><meta name="theme-color" content="#663399"/><link rel="apple-touch-icon" sizes="48x48" href="/icons/icon-48x48.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="72x72" href="/icons/icon-72x72.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="96x96" href="/icons/icon-96x96.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="144x144" href="/icons/icon-144x144.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="192x192" href="/icons/icon-192x192.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="256x256" href="/icons/icon-256x256.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="384x384" href="/icons/icon-384x384.png?v=edf3d310d67f8284a562bc3a58c3e761"/><link rel="apple-touch-icon" sizes="512x512" href="/icons/icon-512x512.png?v=edf3d310d67f8284a562bc3a58c3e761"/><title data-react-helmet="true">얕은 복사(shallow copy) vs 깊은 복사(deep copy) | bono blog</title><meta data-react-helmet="true" name="google-site-verification" content="R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA"/><meta data-react-helmet="true" name="naver-site-verification" content="23eddf7267bb527337927baff11fc26157637f30"/><meta data-react-helmet="true" name="description" content="이번에는 객체의 복사에 대해서 알아보려고 합니다. 객체의 복사는 크게 얕은 복사(shallow copy)와 깊은 복사(deep copy)로 나뉩니다. 얼핏 들으면 단어 자체의 의미가 모호하게 느껴질 수도 있습니다만, 사실은 크게 어려운 개념은 아닙니…"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" property="og:url"/><meta data-react-helmet="true" property="og:title" content="얕은 복사(shallow copy) vs 깊은 복사(deep copy)"/><meta data-react-helmet="true" property="og:description" content="이번에는 객체의 복사에 대해서 알아보려고 합니다. 객체의 복사는 크게 얕은 복사(shallow copy)와 깊은 복사(deep copy)로 나뉩니다. 얼핏 들으면 단어 자체의 의미가 모호하게 느껴질 수도 있습니다만, 사실은 크게 어려운 개념은 아닙니…"/><script data-react-helmet="true" type="application/ld+json">{"@context":"http://schema.org","@type":"Article","name":"얕은 복사(shallow copy) vs 깊은 복사(deep copy)","datePublished":"2016-01-20"}</script><link rel="sitemap" type="application/xml" href="/sitemap.xml"/><link as="script" rel="preload" href="/webpack-runtime-6c22d497c423a5c903e0.js"/><link as="script" rel="preload" href="/framework-b70289dc593de7688a4c.js"/><link as="script" rel="preload" href="/app-2c14e963ade6f8070dcf.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/abd3976e5c27636d99401a91b3294356515814cb-685ae3a4310b069044c0.js"/><link as="script" rel="preload" href="/component---src-templates-blog-post-js-2dfb362f2ea66fb3a075.js"/><link as="fetch" rel="preload" href="/page-data\2016\01\20\shallow-copy-deep-copy\page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data\app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="Layout-module--container--3D7Fi"><div><header class="Header-module--header--1QdxE Header-module--showHeader--2BpxF"><div class="Header-module--headerTitle--1AL1t"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/">bono&#x27;s blog</a></div><nav class="showGte768"><ul><li class="Menu-module--container--PUd6S"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/programming"><span class="Menu-module--menuName--38jES">programming</span></a></li><li class="Menu-module--container--PUd6S"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/know-frontend"><span class="Menu-module--menuName--38jES">frontend 바로알기</span></a></li><li class="Menu-module--container--PUd6S"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/interactive-web"><span class="Menu-module--menuName--38jES">interactive web</span></a></li><li class="Menu-module--container--PUd6S"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/gatsby"><span class="Menu-module--menuName--38jES">gatsby js</span></a></li><li class="Menu-module--container--PUd6S"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/tags"><span class="Menu-module--menuName--38jES">tag</span></a></li></ul></nav><div class="showLt768 Header-module--menuIconWrapper--DkLf_"><div></div><div></div><div></div></div></header><div style="margin-top:50px"></div><nav class="showLt768 Header-module--mobileMenuWrapper--jUUWO"><ul><div><li class="Menu-module--verticalContainer--2ngD2"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/programming"><span class="Menu-module--menuName--38jES">programming</span></a></li></div><div><li class="Menu-module--verticalContainer--2ngD2"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/know-frontend"><span class="Menu-module--menuName--38jES">frontend 바로알기</span></a></li></div><div><li class="Menu-module--verticalContainer--2ngD2"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/interactive-web"><span class="Menu-module--menuName--38jES">interactive web</span></a></li></div><div><li class="Menu-module--verticalContainer--2ngD2"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/gatsby"><span class="Menu-module--menuName--38jES">gatsby js</span></a></li></div><div><li class="Menu-module--verticalContainer--2ngD2"><a style="box-shadow:none;text-decoration:none;color:inherit" href="/tags"><span class="Menu-module--menuName--38jES">tag</span></a></li></div></ul></nav></div><main class="Layout-module--contentWrapper--2iI6d contents"><div class="Post-module--container--2YQwi"><div class="Post-module--tocWrapper--2QQTs"><nav class="table-of-contents TableOfContents-module--container--n70xy"><h3 class="TableOfContents-module--title--10vJa">TABLE OF CONTENTS</h3><div class="TableOfContents-module--contents--I_bZr"><ul>
<li><a href="/2016/01/20/shallow-copy-deep-copy/#1-%EB%8B%A8%EC%88%9C-%EA%B0%9D%EC%B2%B4%EB%B3%B5%EC%A0%9C">1. 단순 객체복제</a></li>
<li><a href="/2016/01/20/shallow-copy-deep-copy/#2-%EC%96%95%EC%9D%80-%EB%B3%B5%EC%82%ACshallow-copy">2. 얕은 복사(shallow copy)</a></li>
<li><a href="/2016/01/20/shallow-copy-deep-copy/#3-%EA%B9%8A%EC%9D%80-%EB%B3%B5%EC%82%ACdeep-copy">3. 깊은 복사(deep copy)</a></li>
<li><a href="/2016/01/20/shallow-copy-deep-copy/#%EC%A0%95%EB%A6%AC%ED%95%B4%EB%B3%B4%EB%A9%B4">정리해보면,</a></li>
</ul></div></nav></div><header><div class="Post-module--title--2VXvj">얕은 복사(shallow copy) vs 깊은 복사(deep copy)</div><div class="Post-module--date--21BHx">2016-01-20</div></header><div class="Post-module--postWrapper--36i9Z"><p>이번에는 객체의 복사에 대해서 알아보려고 합니다. 객체의 복사는 크게 얕은 복사(shallow copy)와 깊은 복사(deep copy)로 나뉩니다. 얼핏 들으면 단어 자체의 의미가 모호하게 느껴질 수도 있습니다만, 사실은 크게 어려운 개념은 아닙니다. 하지만 주의해서 사용하지 않으면 크나큰 문제를 야기할 수도 있습니다. 이미 잘 알고 있다 하더라도 확실히 짚고 넘어 간다는 생각으로 다시한번 정리해 보시면 좋을것 같네요</p>
<h3 id="1-단순-객체복제" style="position:relative;"><a href="#1-%EB%8B%A8%EC%88%9C-%EA%B0%9D%EC%B2%B4%EB%B3%B5%EC%A0%9C" aria-label="1 단순 객체복제 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>1. 단순 객체복제</h3>
<p>변수만 복사하다 보니 바라보는 객체는 당연히 동일하겠죠.
즉, 두개의 변수 중 하나만 변경되어도 나머지 하나도 동일하게 수정되는 현상이 발생하게 됩니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> a     <span class="token comment"># shallow copy</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [1, 2, 3, 4]</span>
b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>   <span class="token comment"># b의 item 변경</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [1, 2, 100, 4]</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># [1, 2, 100, 4], a의 item도 수정됨!!</span></code></pre></div>
<p>리스트를 만들어(파이썬에서 대괄호'[ ]'는 list) 1 에서 4 까지 네개의 숫자를 넣고 a 에 할당했습니다.
그러면 a 는 리스트 객체의 주소를 바라보는 변수가 되는 것이죠.
그런뒤 a 를 b 에 할당해 주었습니다. 그러면 b 는 a 와 같은 객체의 주소를 바라보게 됩니다.</p>
<p>문제는 a 또는 b 를 수정하게 되면 문제가 발생합니다.
위에서 처럼 b 의 세번째(2) 값을 3 에서 100 으로 바꿔주게 되면, 당연히 b 는 [1, 2, 100, 4] 처럼 출력됩니다.
그런데 변경되지 않을 거라고 예상했던 a 또한 b 와 같이 [1, 2, 100, 4] 로 수정되어버렸습니다.
이는 a 와 b 가 동일한 객체를 참조하기 때문에 발생하는 문제입니다.</p>
<p>한가지 주의할 점은 위의 경우처럼 복사된 참조 변수를 수정했을때,
처음에 할당한 참조 변수의 값 역시 똑같이 수정되는 것은 리스트와 같은 변경가능(mutable) 객체일 때만 해당한다는 것입니다.
숫자나 문자열과 같은 불변의(immutable) 객체일때는 위의 경우가 해당되지 않습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python">a <span class="token operator">=</span> <span class="token number">10</span>
b <span class="token operator">=</span> a
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># 10 출력력</span>
b <span class="token operator">=</span> <span class="token string">"abc"</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># abc 출력</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># 10 출력</span></code></pre></div>
<p>위와 같은 결과가 나타나는 이유는, 불변의 객체이기 때문입니다.
말장난 하는것 같아 보이지만, 불변의 객체란 값이 바뀌지 않는 객체를 뜻하죠.
그렇기 때문에 참조변수를 수정한다는 것은 같은 주소의 값(value)이 바뀌는 것이 아니라 그 변수에 새로운 객체가 할당되는 것을 뜻합니다.</p>
<h3 id="2-얕은-복사shallow-copy" style="position:relative;"><a href="#2-%EC%96%95%EC%9D%80-%EB%B3%B5%EC%82%ACshallow-copy" aria-label="2 얕은 복사shallow copy permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>2. 얕은 복사(shallow copy)</h3>
<p>얕은 복사의 경우는 어떨까요? 단순 복사와 어떤 차이가 있을까요?
단순 복제와 얕은 복사의 차이점은 복합객체(리스트)는 별도로 생성하지만 그 안에 들어가는 내용은 원래와 같은 객체 객체라는 점입니다.
예제로 살펴보면 아래와 같습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> copy

a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># shallow copy 발생</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3]] 출력</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [100, [1, 2, 3]] 출력,</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3]] 출력, shallow copy 가 발생해 복사된 리스트는 별도의 객체이므로 item을 수정하면 복사본만 수정된다. (immutable 객체의 경우)</span>

c <span class="token operator">=</span> copy<span class="token punctuation">.</span>copy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>
c<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>    <span class="token comment"># 리스트의 두번째 item(내부리스트)에 4를 추가</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3, 4]] 출력</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3, 4]] 출력, a가 c와 똑같이 수정된 이유는 리스트의 item 내부의 객체는 동일한 객체이므로 mutable한 리스트를 수정할때는 둘다 값이 변경됨</span></code></pre></div>
<p>주석에서 잘 설명하고 있지만, 리스트 내에 리스트가 있는 경우에 얕은 복사(b = copy.copy(a))가 이뤄지더라도 리스트 내의 내부 리스트까지 별도의 객체로 복사가 되는것은 아닙니다.</p>
<p>위의 예제에서 b 에서 첫번째 요소(숫자)를 변경하였을때 a 가 변경되지 않은 것은 그 요소가 immutable 하기 때문입니다.
immutable 하다는 것은, 요소가 수정되는 것이 아니라 그저 다른 값으로 대체된다고 볼 수 있죠.
그렇기 때문에 b 에서 변경된 요소가 a 에는 반영되어 있지 않은 것이죠.(두 리스트는 다른 객체이므로..)</p>
<p>그러나 c 의 경우는 좀 다릅니다.
a 를 복사하여(c = copy.copy(a)) c 를 만듭니다.
그리고 c 의 두번째 요소(리스트)에 새로운 값을 추가합니다.
출력해보면 a 와 b 의 경우처럼 c 에 값을 수정했을때 a 는 수정되지 않을거라 기대되지만, 실제는 그렇지 않습니다.
c 의 내부리스트를 수정하게 되면 a 의 내부리스트 또한 바뀌게 되는데요.
그 이유는 a 와 c 의 내부리스트는 같은 객체를 참조하기 때문입니다.
b 의 경우에도 같은 객체라 말할 수도 있지만, 이 둘의 중요한 차이는 그 객체가 mutable 하냐 immutable 하냐의 차이입니다.
mutable 한 경우에는 값이 수정될수 있지만, immutable 한 경우에는 값이 수정되는 것이 아니라 아예 새로운 객체로 변경되는 것이죠.
그래서 위와 같은 차이가 나타나게 되는 것입니다.</p>
<h3 id="3-깊은-복사deep-copy" style="position:relative;"><a href="#3-%EA%B9%8A%EC%9D%80-%EB%B3%B5%EC%82%ACdeep-copy" aria-label="3 깊은 복사deep copy permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>3. 깊은 복사(deep copy)</h3>
<p>mutable 한 내부객체(내부리스트)의 문제를 해결하기 위해서는 얕은 복사가 아닌 깊은 복사(deep copy)를 해야 합니다.</p>
<p>얕은 복사가 복합객체(리스트)만 복사되고 그 안의 내용은 동일한 객체를 참조한다면,
깊은 복사의 경우에는 복합객체를 새롭게 생성하고 그 안의 내용까지 재귀적으로 새롭게 생성하게 됩니다.</p>
<p>그래서 깊은 복사를 하게 되면, 처음에 만들었던 객체와 복사된 객체가 전혀 달라지기 때문에 어느 한쪽을 수정한다고 해서 다른 한쪽이 영향 받는 일은 없게되겠죠.</p>
<p>파이썬에서는 copy 모듈의 deepcopy()라는 메서드를 통해 깊은 복사를 손쉽게 구현할 수 있습니다.</p>
<div class="gatsby-highlight" data-language="python"><pre class="language-python"><code class="language-python"><span class="token keyword">import</span> copy

a <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
b <span class="token operator">=</span> copy<span class="token punctuation">.</span>deepcopy<span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># deep copy 실행</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3]] 출력</span>
b<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">100</span>
b<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>append<span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>    <span class="token comment"># [100, [1, 2, 3, 4]] 출력</span>
<span class="token keyword">print</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>    <span class="token comment"># [1, [1, 2, 3]] 출력</span></code></pre></div>
<h3 id="정리해보면" style="position:relative;"><a href="#%EC%A0%95%EB%A6%AC%ED%95%B4%EB%B3%B4%EB%A9%B4" aria-label="정리해보면 permalink" class="anchor-header before"><svg aria-hidden="true" focusable="false" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>정리해보면,</h3>
<blockquote>
<ol>
<li>단순복제는 완전히 동일한 객체,</li>
<li>얕은복사(shallow copy)는 복합객체(껍데기)만 복사, 그 내용은 동일한 객체</li>
<li>깊은복사(deep copy)는 복합객체 복사 + 그 내용도 재귀적으로 복사</li>
</ol>
</blockquote></div><footer class="Post-module--footer--OQfhK"><div class="Post-module--otherPosts--3j5YT"><div class="Post-module--other--3aWMw Post-module--previous--1SAAG"><a rel="prev" href="/2016/01/16/django-migration/">[django] 장고 트랜잭션 활용</a></div><div class="Post-module--other--3aWMw Post-module--next--378Ow"><a rel="next" href="/2016/01/22/python-conditional-ternary-operator/">파이썬 3항 연산자 비교</a></div></div><div class="Post-module--adsenseWrapper--cXBjK"><ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4588610260101909" data-ad-slot="5306007932" data-ad-format="auto" data-full-width-responsive="true"></ins></div><div></div></footer></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'UA-50048807-2', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/2016/01/20/shallow-copy-deep-copy/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c9cd79a7e876af80b3ef.js"],"app":["/app-2c14e963ade6f8070dcf.js"],"component---cache-caches-gatsby-plugin-offline-app-shell-js":["/component---cache-caches-gatsby-plugin-offline-app-shell-js-7542ec632975394c09bc.js"],"component---src-pages-404-js":["/component---src-pages-404-js-3e5309c2b59fd60c552f.js"],"component---src-pages-essay-js":["/component---src-pages-essay-js-7b547ac2f362793f6cc4.js"],"component---src-pages-gatsby-js":["/component---src-pages-gatsby-js-dbeaed8cf79388199f2f.js"],"component---src-pages-index-js":["/component---src-pages-index-js-b0c08a2ef62fb1737791.js"],"component---src-pages-interactive-web-js":["/component---src-pages-interactive-web-js-841e0e2203d537958036.js"],"component---src-pages-know-frontend-js":["/component---src-pages-know-frontend-js-ff44e23c5308387ef014.js"],"component---src-pages-programming-js":["/component---src-pages-programming-js-72c752ef53fac8cbfc59.js"],"component---src-pages-tags-js":["/component---src-pages-tags-js-1787c4e0d940bd9ceba8.js"],"component---src-templates-blog-post-js":["/component---src-templates-blog-post-js-2dfb362f2ea66fb3a075.js"],"component---src-templates-tag-js":["/component---src-templates-tag-js-d60c57beda4f4c998c39.js"]};/*]]>*/</script><script src="/polyfill-c9cd79a7e876af80b3ef.js" nomodule=""></script><script src="/component---src-templates-blog-post-js-2dfb362f2ea66fb3a075.js" async=""></script><script src="/abd3976e5c27636d99401a91b3294356515814cb-685ae3a4310b069044c0.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-2c14e963ade6f8070dcf.js" async=""></script><script src="/framework-b70289dc593de7688a4c.js" async=""></script><script src="/webpack-runtime-6c22d497c423a5c903e0.js" async=""></script></body></html>