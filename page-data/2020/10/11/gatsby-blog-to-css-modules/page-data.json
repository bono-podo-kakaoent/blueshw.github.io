{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020/10/11/gatsby-blog-to-css-modules/","result":{"data":{"site":{"siteMetadata":{"title":"bono blog","author":"bono"}},"markdownRemark":{"id":"e7f33814-a362-5d30-8494-d10170de4a82","excerpt":"지금껏, 이 블로그는 로 CSS를 작성하고 있었다. 대표적인 CSS-in-JS 방식이다. 블로그는 스타일 코드가 많지 않기 때문에 CSS-in-JS로 만들어도 충분하다. 하지만, 조금이라도 빠르게 만들어보기 위해 CSS Modules 방식으로 변경해…","html":"<p>지금껏, 이 블로그는 <code class=\"language-text\">styled components + rebass</code>로 CSS를 작성하고 있었다. 대표적인 CSS-in-JS 방식이다. 블로그는 스타일 코드가 많지 않기 때문에 CSS-in-JS로 만들어도 충분하다. 하지만, 조금이라도 빠르게 만들어보기 위해 CSS Modules 방식으로 변경해 보았다. </p>\n<p>이번 포스팅에서는 실제 서비스에서 CSS-in-CSS 방식으로 변경했을 때, 어느 정도 성능이 변했는지 확인해보자.</p>\n<p>확인하려는 항목은 다음과 같다.</p>\n<blockquote>\n<ul>\n<li>번들 사이즈</li>\n<li>페이지 로딩 속도(with <a href=\"https://developers.google.com/speed/pagespeed/insights/?hl=ko\">Google Page Speed Insights</a>)</li>\n<li>페이지 전환 속도</li>\n</ul>\n</blockquote>\n<h2 id=\"기존-방식-styled-components--rebass\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EB%B0%A9%EC%8B%9D-styled-components--rebass\" aria-label=\"기존 방식 styled components  rebass permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기존 방식 (styled components + rebass)</h2>\n<p>대표적인 CSS-in-JS 방식인 <a href=\"https://styled-components.com/\">styled components</a>와 styled system 기반의 react 기본 구성 요소를 제공하는 <a href=\"https://rebassjs.org/\">rebass</a>를 사용하였다. </p>\n<h3 id=\"번들-사이즈\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EB%93%A4-%EC%82%AC%EC%9D%B4%EC%A6%88\" aria-label=\"번들 사이즈 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번들 사이즈</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5c656e8aad4d910b452e846c59826a02/569c6/0.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 13.513513513513512%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyUlEQVQI1x2KW1OCQABG+R2VNxrNme40prsIOFmoLLAslDXmFNVYTv///bTx9F3OcUbFF8H6h9nLL+F6z7ja079/5UBoDmVBOyi5VG8c+WWzu2GFqHbIx2+8rOY6rS0zjX+62OJMdE30tGNafuKbDzy1pSNzen5uM8Odai7iZ9oipTVRuPYX+h1p3Ztkg7faWKYsSxhEBkerJWr5gMkSKp1RpCuK/y+eY2wP5ZhA3DI87jLotTgb9hu3zBWL+Yz4LuLE7TRsdHXOH9McacD2nwuXAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bundle size of CSS-in-JS\"\n        title=\"bundle size of CSS-in-JS\"\n        src=\"/static/5c656e8aad4d910b452e846c59826a02/fcda8/0.png\"\n        srcset=\"/static/5c656e8aad4d910b452e846c59826a02/12f09/0.png 148w,\n/static/5c656e8aad4d910b452e846c59826a02/e4a3f/0.png 295w,\n/static/5c656e8aad4d910b452e846c59826a02/fcda8/0.png 590w,\n/static/5c656e8aad4d910b452e846c59826a02/efc66/0.png 885w,\n/static/5c656e8aad4d910b452e846c59826a02/c83ae/0.png 1180w,\n/static/5c656e8aad4d910b452e846c59826a02/569c6/0.png 1674w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">gatsby build</code> 명령으로 만들어지는 번들 파일은 여러 개지만(캐싱 등의 이유로), <code class=\"language-text\">app-[contenthash].js</code>와 <code class=\"language-text\">[name(abd~)]-[contenthash].js</code> 두 가지 파일만 확인하면 된다. </p>\n<blockquote>\n<p>참고로 gatsby build로 만들어지는 파일에 대해서 알아보자 (<a href=\"https://www.gatsbyjs.com/docs/production-app/\">gatsby 공식문서 참고</a>)</p>\n<ul>\n<li>app-[contenthash].js: 웹팩 entry 포인트(production-app.js)의 결과물. 애플리케이션 코드가 들어감.</li>\n<li>webpack-runtime-[contenthash].js: 웹팩 runtime에 필요한 번들.</li>\n<li>framework-[contenthash].js: React를 포함한 프레임웍을 포함한 번들.</li>\n<li>commons(최신버전에서는 name인듯)-[contenthash].js: 모든 페이지에서 사용하는 라이브러리가 번들된 파일 (최신 버전에는 commons가 붙지 않는 것 같다). 최초 접근에 한 번 다운로드.</li>\n<li>component--[name]-[contenthash].js: 각 페이지에 대한 분리된 번들. 페이지 전환 시마다 해당 페이지의 번들을 다운로드.</li>\n</ul>\n</blockquote>\n<p><code class=\"language-text\">app-[contenthash].js</code> 파일은 <code class=\"language-text\">36kB</code>, <code class=\"language-text\">[name]-[contenthash].js</code> 파일은 <code class=\"language-text\">35.6kB</code>다. 큰 사이즈는 아니지만, 빠른 로딩을 위해서 조금이라도 번들 사이즈를 줄여야한다.</p>\n<h3 id=\"페이지-로딩-속도\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%94%A9-%EC%86%8D%EB%8F%84\" aria-label=\"페이지 로딩 속도 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 로딩 속도</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b886cf9edb6ecd91907859631dd0645/16baf/1.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.24324324324324%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAYABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAECAwQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHrxsRrNGUMAbCv/8QAHBAAAgAHAAAAAAAAAAAAAAAAAQIAAxAREyAh/9oACAEBAAEFAjL7jMKltDX/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/AYib/8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQERL/2gAIAQIBAT8B0y5//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECMhESIP/aAAgBAQAGPwLO8i8izff/xAAbEAEAAgIDAAAAAAAAAAAAAAABABARQSExgf/aAAgBAQABPyFV9jUzaopx7o0cFCv/2gAMAwEAAgADAAAAEDQfAP/EABYRAQEBAAAAAAAAAAAAAAAAAAEAEP/aAAgBAwEBPxCgG//EABgRAAIDAAAAAAAAAAAAAAAAAAABECFh/9oACAECAQE/ENhu7n//xAAaEAEAAwEBAQAAAAAAAAAAAAABABEhMUEQ/9oACAEBAAE/EDGVlo2EQ11dMiNWG7ezkcx9l74HiQtDEgJLPefP/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"page speed of CSS-in-JS\"\n        title=\"page speed of CSS-in-JS\"\n        src=\"/static/1b886cf9edb6ecd91907859631dd0645/1c72d/1.jpg\"\n        srcset=\"/static/1b886cf9edb6ecd91907859631dd0645/a80bd/1.jpg 148w,\n/static/1b886cf9edb6ecd91907859631dd0645/1c91a/1.jpg 295w,\n/static/1b886cf9edb6ecd91907859631dd0645/1c72d/1.jpg 590w,\n/static/1b886cf9edb6ecd91907859631dd0645/a8a14/1.jpg 885w,\n/static/1b886cf9edb6ecd91907859631dd0645/fbd2c/1.jpg 1180w,\n/static/1b886cf9edb6ecd91907859631dd0645/16baf/1.jpg 1239w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>나쁜 점수<code class=\"language-text\">(72점)</code>는 아니지만(mobile, PC는 거의 100점에 가깝다), 정적 페이지 블로그인걸 생각하면 개선이 필요하다. </p>\n<h3 id=\"페이지-전환-속도\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A0%84%ED%99%98-%EC%86%8D%EB%8F%84\" aria-label=\"페이지 전환 속도 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 전환 속도</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/535fedc5de383b377bfcaaa93b989b11/4b39a/2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADZ0lEQVQ4y5WTy28bVRjFR6oS2ooQ7HRBkdrO2J7xa+zxc/wYe2wTv+o6SWM7jexJnIQ0pGqUpGkqVSpKG9QMJJbVAHaTqighpLQhCBYFjIRYwQ6xYM8/Aprac5i0vJaw+OnqnnOP9F3pfERG4O3haHCdDwhrUTEhR8W4HIu9wO3iZL8/ICdTGTmdzsqRiCiHw1E5LIiynw/KPl9A9mm+3xe8KwixuhASJMLp5KaisQRisX6EwlG4PDw4lxdeXwBmCwuzjYPd4YGN9cLtDWoE4HB6YLZqntUBxmKH1eaEU9PsFtuPhMVqq/h8fvj9/O8XcnllYqysjAwmleLABaVaziuVQlqpFLPK5GhKuSwNKoXBjJJKppTS4IAyNnpRuVQqKgPns7/lsjlk0umviKnJCWl5+ToWFuY7t1dW1GZjE9vNGnZ3H+LRp9v47MlH2Nu9j4PHW/j8cA8HB59g+8EW9vf3sP/oY2xu3kOj8X670byP2sZ6i/DxISkWT8Dl9nQ4p1MNh0IojBQw8eYYLs/OYH5xGaOVMorlIhauLWJh8Rqq1TKWlqYxPTMNl8uJROKNdjweR0QIt4heQ0zSmTM4SSU7klRQ67eqaKxdxeqtOdTfuYoPVmdw7/YNHNZXsVObRXWqimR+GHduXsGl8SmE0yWwkXz7tCMLhz/aIk5QSambyqGLzHZeIvtVki/iyfeHuLP9IVbW3sWW9v36agM/Pf0ZP/z6HfKTN5Een8d7Ow/gzb6FM94iDEKl3WMZgt6gTXj8bEw6YcjiZfp8p5vMqKdsQ2h+sYvljXWkSlcwObuE63N3sdP8Et/88hT+3Az6pTncqG3gNfsQznqHcZq72NZpuVPGUIt4/QwpnTPaYGa9HQvrVq1aRTy8H5zHB4udA+t0g+O0Gml14cPB5zWyHWmab2BY0BYHTGZHm7ZyMDG2FsE6OGm8Mgzea22zLKsKQkilKEqlSFI1GgyqwUC9uFOkSp470qg/NVI1GQ2qUUM7n9G0EQxDt4jhkTGpJr+NaimiHpU6k0mDphmYTPTf0PQ//FszmUx/0WaY55lvCdpsq2TTaXjcXNvl9na0VVMZs1U1/w+098+s2ubQjOVrorf3lb5j3cdFgjgmdnV1iT09vaJO3ye+qtOLOl3ff0Qf1TIJvb7P+gdleqrSPInqOQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"page transition speed of CSS-in-JS\"\n        title=\"page transition speed of CSS-in-JS\"\n        src=\"/static/535fedc5de383b377bfcaaa93b989b11/fcda8/2.png\"\n        srcset=\"/static/535fedc5de383b377bfcaaa93b989b11/12f09/2.png 148w,\n/static/535fedc5de383b377bfcaaa93b989b11/e4a3f/2.png 295w,\n/static/535fedc5de383b377bfcaaa93b989b11/fcda8/2.png 590w,\n/static/535fedc5de383b377bfcaaa93b989b11/efc66/2.png 885w,\n/static/535fedc5de383b377bfcaaa93b989b11/c83ae/2.png 1180w,\n/static/535fedc5de383b377bfcaaa93b989b11/4b39a/2.png 3104w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>index 페이지를 열고 리스트 항목을 선택했을 때, 이동하는 속도를 측정한다. 번들 파일에서 CSS를 추출하고, style 태그에 삽입하기까지 대략 <code class=\"language-text\">372.5ms</code>의 시간이 소요되었다. 그리고 뒤로가기 버튼을 누른 후, 다시 같은 항목을 선택했을 때 <code class=\"language-text\">223.3ms</code>의 시간이 소요되었다.\n(참고로, 차이 확인을 위해 CPU를 4x slowdown한 뒤 테스트하였다)</p>\n<h2 id=\"개선한-방식-css-modules\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EC%84%A0%ED%95%9C-%EB%B0%A9%EC%8B%9D-css-modules\" aria-label=\"개선한 방식 css modules permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개선한 방식 (CSS Modules)</h2>\n<p>이번에는 CSS Modules로 변경한 결과를 살펴보자.</p>\n<h3 id=\"번들-사이즈-1\" style=\"position:relative;\"><a href=\"#%EB%B2%88%EB%93%A4-%EC%82%AC%EC%9D%B4%EC%A6%88-1\" aria-label=\"번들 사이즈 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>번들 사이즈</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8560953ce762ccf9659719ab76df9b2b/668c6/3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 14.18918918918919%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAYAAACTWi8uAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAyklEQVQI1x3K207CQACE4T6HJLQgGlTgQu0xdZUUsdt2u9BFxWgV4yHq+9//rL2YTCbfOL7+IN18c7P9Qzz+EpgfRtkTvVhzYOOJhpls6SWrbh/N70nMF1HzyYV643T53H3//Vy94wTVC2mzI13viHXL9PYBL6kY2LhxyShVTBcb+pGkH0qORU2iX4nrlku5ZZJZC/POzjKDI8s1i6WiqBpKZSht51Jzl9fIQhNEAj+8wjs8wR2Mmcx8qtqQFyvmmbQmcIfjzoLomj2a5ml5pXmoJAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"bundle size of CSS-in-CSS\"\n        title=\"bundle size of CSS-in-CSS\"\n        src=\"/static/8560953ce762ccf9659719ab76df9b2b/fcda8/3.png\"\n        srcset=\"/static/8560953ce762ccf9659719ab76df9b2b/12f09/3.png 148w,\n/static/8560953ce762ccf9659719ab76df9b2b/e4a3f/3.png 295w,\n/static/8560953ce762ccf9659719ab76df9b2b/fcda8/3.png 590w,\n/static/8560953ce762ccf9659719ab76df9b2b/efc66/3.png 885w,\n/static/8560953ce762ccf9659719ab76df9b2b/c83ae/3.png 1180w,\n/static/8560953ce762ccf9659719ab76df9b2b/668c6/3.png 1692w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p><code class=\"language-text\">app-[contenthash].js</code>는 <code class=\"language-text\">17.7kB</code>, <code class=\"language-text\">[name(abd~)]-[contenthash].js</code>는 <code class=\"language-text\">9.6kB</code>로 상당부분 사이즈가 줄었음을 확인할 수 있다. 두 패키지를 합치면 대략, <code class=\"language-text\">45kB</code> 가 작아졌다. styled components, rebass 등 CSS를 위한 라이브러리가 삭제되었고, CSS 코드는 번들에서 별도로 분리되었기 때문이다.</p>\n<h3 id=\"페이지-로딩-속도-1\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%94%A9-%EC%86%8D%EB%8F%84-1\" aria-label=\"페이지 로딩 속도 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 로딩 속도</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e7d2f9978d68bef7a3a5e573a39960fb/16baf/4.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 118.91891891891892%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAYABQDASIAAhEBAxEB/8QAGQABAAIDAAAAAAAAAAAAAAAAAAEDAgQF/8QAFgEBAQEAAAAAAAAAAAAAAAAAAQAC/9oADAMBAAIQAxAAAAHrxsNZrWhgDkK//8QAGxABAAEFAQAAAAAAAAAAAAAAAQIAAxAREyD/2gAIAQEAAQUCbbvm1GCeHP8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQAQ/9oACAEDAQE/ASN//8QAGBEAAgMAAAAAAAAAAAAAAAAAAAEQERL/2gAIAQIBAT8B0y5//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAECMhESIP/aAAgBAQAGPwLO7LyLN9//xAAaEAABBQEAAAAAAAAAAAAAAAABABARMUFx/9oACAEBAAE/IZG3ilyQGD3IsKYG/9oADAMBAAIAAwAAABAkGAD/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREQ/9oACAEDAQE/EJIW/wD/xAAXEQEAAwAAAAAAAAAAAAAAAAABABAh/9oACAECAQE/EJLdv//EABwQAQACAgMBAAAAAAAAAAAAAAEAETFRECFBcf/aAAgBAQABPxB4jEvsIjrMyFRSlW7Xc8/ZfetMKUYqBNyzmq4//9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"page speed of CSS-in-CSS\"\n        title=\"page speed of CSS-in-CSS\"\n        src=\"/static/e7d2f9978d68bef7a3a5e573a39960fb/1c72d/4.jpg\"\n        srcset=\"/static/e7d2f9978d68bef7a3a5e573a39960fb/a80bd/4.jpg 148w,\n/static/e7d2f9978d68bef7a3a5e573a39960fb/1c91a/4.jpg 295w,\n/static/e7d2f9978d68bef7a3a5e573a39960fb/1c72d/4.jpg 590w,\n/static/e7d2f9978d68bef7a3a5e573a39960fb/a8a14/4.jpg 885w,\n/static/e7d2f9978d68bef7a3a5e573a39960fb/fbd2c/4.jpg 1180w,\n/static/e7d2f9978d68bef7a3a5e573a39960fb/16baf/4.jpg 1239w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>72점에서 <code class=\"language-text\">88점</code>으로 점수가 대폭 향상되였다. 큰 점수 차이가 아니라 체감할 정도는 아니겠지만, 네트웍 상황이 안 좋다면 얘기는 달라진다. </p>\n<h3 id=\"페이지-전환-속도-1\" style=\"position:relative;\"><a href=\"#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A0%84%ED%99%98-%EC%86%8D%EB%8F%84-1\" aria-label=\"페이지 전환 속도 1 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>페이지 전환 속도</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 590px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/0611ad103e44ff876498cb2315872efb/4b39a/5.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 63.51351351351351%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAABYlAAAWJQFJUiTwAAADUElEQVQ4y5WT7U9aZxjGT6tza1o7gTZbmmgFzjlwDgeBAxxexMOLUNAebItaQNTpGjqqnURr0rfQLqEYbbtss63Wl8al2tgPy5ZtYdm+7p/acgrn2jOWLd237cMv1/1cz30n95NcD5Xsl2zBAd+q3x96IIdjNVmO1sLhSAuX01HzeqVaIpEkpGr9IbkWCIRa6vb4WngIkhSoBoPhx37JX6D67H2zciSGYCgMry8IpyjB6RQhuv2wcAKsvBO84IK9T4TH628h2J2wCQ5yZ2/1sBYbHA43bBb+V4q3CRMul4iR9MjvM9PT6pWZvJpRhtRcJqFOjqfUqbG/dPyioqaSw6oyrKiD0UF1MBZX00MpNT+WUXPZy7+lz6cRH4z/QM3OzhTK5QXcu1dprq6taZubX2Fz4wleH+7gYH8b+3vreHWwjcPDV9h6voHd3RfY2t7B7os97JB6f/8Az7e3Gk+ePkO1Wq1TXvLucCQKySM2g16ndl4ZwsR0HqVr13B1bg6Xc+PIk/P1hetYXChieXkJS0s3cPPmLZRvlIk/hwsjSkOSJASDwTqloyOF4+YE5ORos/TxlFZZLOLh7RJWPyth/f4n2LxfwXqlhOxYDh3dIZw0htBlHgD1gQ9XP8pheb4IKXapcYpP4QzrrVPHjPFCh2kYbT3nmtSHYW2+9Bgv17/HfOUuvlh7hO++/AXfbvwMJXsL75pTOG3P4HRfBkfOJrBy92tcKa4QP9HotF7EKbq/Tr3XEy4cM6XQyQw323oGtcnJB3i68g1i+SLmP72NSvkZ9h7VEVUW0WGMQ88pMPBpHO2O4M7iDkazd3Ccjje6uAswmAN16kx3b6GX5mEV3E2LzamJYgBu0QeORMNB4mO3u+ER/eBsLphYAWaLvYWRsZF4SbDZRZhZocFwDtAsX6cEwVGYzF+Cz803BEHQAgG/ZjT2aiaTkaixpb3Gs5qZKG02/Yu/+0j9hmHMYFmmTmXz04XPH1YxNTqguUiok8lzYBgWNE0TZf6BppmW9zZv+Q2W/XOG+YmycvxEKqWQ9Z0Nl8vd9Hp9GmvhNMv/gPS/4ciPYVjrj9SJEycNbe3tMnXkqNze/o7c2fm+rNMb5C6dXtbpDP8R/QCZier1Bu4PmgWkPSa+SewAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"page transition speed of CSS-in-CSS\"\n        title=\"page transition speed of CSS-in-CSS\"\n        src=\"/static/0611ad103e44ff876498cb2315872efb/fcda8/5.png\"\n        srcset=\"/static/0611ad103e44ff876498cb2315872efb/12f09/5.png 148w,\n/static/0611ad103e44ff876498cb2315872efb/e4a3f/5.png 295w,\n/static/0611ad103e44ff876498cb2315872efb/fcda8/5.png 590w,\n/static/0611ad103e44ff876498cb2315872efb/efc66/5.png 885w,\n/static/0611ad103e44ff876498cb2315872efb/c83ae/5.png 1180w,\n/static/0611ad103e44ff876498cb2315872efb/4b39a/5.png 3104w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<p>마지막으로 페이지 전환속도를 비교해 보자. 첫 번째 전환 시에는 <code class=\"language-text\">240.6ms</code>, 두 번째는 <code class=\"language-text\">217.0ms</code>가 소요되었다. 번들 사이즈나 페이지 로딩 속도에 비해서는 드라마틱할 정도의 차이는 아니지만, 그래도 어느 정도 빨라진 모습을 보인다. </p>\n<h2 id=\"코드-수정\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EC%88%98%EC%A0%95\" aria-label=\"코드 수정 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 수정</h2>\n<p>마지막으로 수정한 코드를 살펴보자. CSS-in-JS 방식에 비해서 불편한 것은 사실이다. jsx(or tsx) 파일 하나에서 마크업, 스타일, 로직을 작성할 수 있었다. 반면에 CSS-in-CSS 방식은 여러 파일(js, css 등)을 열어놓고 작업해야 하는 번거로움이 있다.</p>\n<p>예제를 살펴보자.</p>\n<h3 id=\"기존-코드\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C\" aria-label=\"기존 코드 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기존 코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// List.js 코드 일부</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Flex<span class=\"token punctuation\">,</span> Button <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'rebass/styled-components'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'styled-components'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">List</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">...</span>\n    <span class=\"token operator\">&lt;</span>Flex mt<span class=\"token operator\">=</span><span class=\"token string\">\"70px\"</span> width<span class=\"token operator\">=</span><span class=\"token string\">\"100%\"</span> justifyContent<span class=\"token operator\">=</span><span class=\"token string\">\"center\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>StyledShowMoreButton\n        fontSize<span class=\"token operator\">=</span><span class=\"token string\">\"18px\"</span>\n        fontWeight<span class=\"token operator\">=</span><span class=\"token string\">\"400\"</span>\n        color<span class=\"token operator\">=</span><span class=\"token string\">\"#999\"</span>\n        p<span class=\"token operator\">=</span><span class=\"token string\">\"5px 10px\"</span>\n        bg<span class=\"token operator\">=</span><span class=\"token string\">\"transparent\"</span>\n        onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setShowCount</span><span class=\"token punctuation\">(</span>showCount <span class=\"token operator\">+</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">></span>\n        show more\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>StyledShowMoreButton<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Flex<span class=\"token operator\">></span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">const</span> StyledShowMoreButton <span class=\"token operator\">=</span> <span class=\"token function\">styled</span><span class=\"token punctuation\">(</span>Button<span class=\"token punctuation\">)</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  border-radius: 4px;\n  border: 1px solid #dedede;\n  cursor: pointer;\n  transition: all 0.7s;\n  outline: none;\n  &amp;:hover {\n    background-color: #bbb;\n    color: #fff;\n    border: 1px solid transparent;\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"수정된-코드\" style=\"position:relative;\"><a href=\"#%EC%88%98%EC%A0%95%EB%90%9C-%EC%BD%94%EB%93%9C\" aria-label=\"수정된 코드 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>수정된 코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// List.js 코드 일부</span>\n<span class=\"token keyword\">import</span> s <span class=\"token keyword\">from</span> <span class=\"token string\">'./css/List.module.scss'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">List</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">...</span>\n    <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>s<span class=\"token punctuation\">.</span>moreWrapper<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>button\n        className<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>s<span class=\"token punctuation\">.</span>moreButton<span class=\"token punctuation\">}</span>\n        onClick<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">setShowCount</span><span class=\"token punctuation\">(</span>showCount <span class=\"token operator\">+</span> <span class=\"token number\">25</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">></span>\n        show more\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>button<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">...</span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<div class=\"gatsby-highlight\" data-language=\"scss\"><pre class=\"language-scss\"><code class=\"language-scss\"><span class=\"token comment\">// List.module.scss 코드 일부</span>\n<span class=\"token selector\">.moreWrapper </span><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">display</span><span class=\"token punctuation\">:</span> flex<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">justify-content</span><span class=\"token punctuation\">:</span> center<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">width</span><span class=\"token punctuation\">:</span> 100%<span class=\"token punctuation\">;</span>\n  <span class=\"token property\">margin-top</span><span class=\"token punctuation\">:</span> 70px<span class=\"token punctuation\">;</span>\n  <span class=\"token selector\">.moreButton </span><span class=\"token punctuation\">{</span>\n    <span class=\"token property\">font-size</span><span class=\"token punctuation\">:</span> 18px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">font-weight</span><span class=\"token punctuation\">:</span> 400<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> color.<span class=\"token function\">getColor</span><span class=\"token punctuation\">(</span><span class=\"token string\">'grey04'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token property\">padding</span><span class=\"token punctuation\">:</span> 5px 10px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> transparent<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border-radius</span><span class=\"token punctuation\">:</span> 4px<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid #dedede<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">cursor</span><span class=\"token punctuation\">:</span> pointer<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">transition</span><span class=\"token punctuation\">:</span> all 0.7s<span class=\"token punctuation\">;</span>\n    <span class=\"token property\">outline</span><span class=\"token punctuation\">:</span> none<span class=\"token punctuation\">;</span>\n    <span class=\"token selector\"><span class=\"token parent important\">&amp;</span>:hover </span><span class=\"token punctuation\">{</span>\n      <span class=\"token property\">background-color</span><span class=\"token punctuation\">:</span> #bbb<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">color</span><span class=\"token punctuation\">:</span> #fff<span class=\"token punctuation\">;</span>\n      <span class=\"token property\">border</span><span class=\"token punctuation\">:</span> 1px solid transparent<span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>이전 코드는 <code class=\"language-text\">List.js</code> 파일 하나만 보면서 작업할 수 있었지만, 이제는 <code class=\"language-text\">List.js</code>와 <code class=\"language-text\">List.module.scss</code>를 같이 보며 작업해야 한다. 확실히 불편해졌다. 현재 프로젝트에는 typescript가 적용되어 있지 않지만, 만약 typescript를 사용한다면 타입이 적용되지 않기 때문에 실수할 가능성이 커진다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<p>이전 몇 번의 포스팅에서 재차 언급했지만, <code class=\"language-text\">CSS-in-CSS</code>, <code class=\"language-text\">CSS-in-JS</code> 두 가지 방식 중 어느 것이 더 낫다고 단정 지을 수는 없다. CSS-in-CSS 방식은 퍼포먼스에서 CSS-in-JS보다 뛰어나다(이 간극은 점점 좁혀지고 있다). 반면에 CSS-in-JS는 개발 효율이나 타입 정의 등에 장점이 있기 때문에 생산성 측면에서 장점이 있다. 중요한 것은 개발하는 프로젝트의 성격이 어떠냐에 달려있다. 백오피스 프로젝트나 퍼포먼스가 크게 중요하지 않다면, <code class=\"language-text\">CSS-in-JS</code>를 사용하는 편이 낫다. 반면에 유저 대상으로 하는 서비스의 경우 퍼포먼스가 중요하기 때문에(대부분은), 가능하다면(여유가 된다면) <code class=\"language-text\">CSS-in-CSS</code> 방식이 더 나은 선택이다.</p>\n<p>성능이 확실히 좋아졌다. 다만, 유지보수는 좀 더 신경 써야 할 것 같다.</p>\n<h2 id=\"참고자료\" style=\"position:relative;\"><a href=\"#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\" aria-label=\"참고자료 permalink\" class=\"anchor-header before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>참고자료</h2>\n<ul>\n<li><a href=\"https://www.gatsbyjs.com/docs/production-app/#commons-contenthashjs\">Building the JavaScript App (Gatsby 공식 문서)</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EA%B8%B0%EC%A1%B4-%EB%B0%A9%EC%8B%9D-styled-components--rebass\">기존 방식 (styled components + rebass)</a></p>\n<ul>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EB%B2%88%EB%93%A4-%EC%82%AC%EC%9D%B4%EC%A6%88\">번들 사이즈</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%94%A9-%EC%86%8D%EB%8F%84\">페이지 로딩 속도</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A0%84%ED%99%98-%EC%86%8D%EB%8F%84\">페이지 전환 속도</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EA%B0%9C%EC%84%A0%ED%95%9C-%EB%B0%A9%EC%8B%9D-css-modules\">개선한 방식 (CSS Modules)</a></p>\n<ul>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EB%B2%88%EB%93%A4-%EC%82%AC%EC%9D%B4%EC%A6%88-1\">번들 사이즈</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%ED%8E%98%EC%9D%B4%EC%A7%80-%EB%A1%9C%EB%94%A9-%EC%86%8D%EB%8F%84-1\">페이지 로딩 속도</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%ED%8E%98%EC%9D%B4%EC%A7%80-%EC%A0%84%ED%99%98-%EC%86%8D%EB%8F%84-1\">페이지 전환 속도</a></li>\n</ul>\n</li>\n<li>\n<p><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EC%BD%94%EB%93%9C-%EC%88%98%EC%A0%95\">코드 수정</a></p>\n<ul>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EA%B8%B0%EC%A1%B4-%EC%BD%94%EB%93%9C\">기존 코드</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EC%88%98%EC%A0%95%EB%90%9C-%EC%BD%94%EB%93%9C\">수정된 코드</a></li>\n</ul>\n</li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EA%B2%B0%EB%A1%A0\">결론</a></li>\n<li><a href=\"/2020/10/11/gatsby-blog-to-css-modules/#%EC%B0%B8%EA%B3%A0%EC%9E%90%EB%A3%8C\">참고자료</a></li>\n</ul>","frontmatter":{"title":"gatsby 블로그에 CSS Modules 적용하기","date":"2020-10-11"}}},"pageContext":{"slug":"/2020/10/11/gatsby-blog-to-css-modules/","previous":{"fields":{"slug":"/2020/09/27/css-in-js-vs-css-modules/"},"frontmatter":{"title":"CSS-in-JS(Styled Components) vs CSS-inCSS(CSS Modules) 성능 비교","tags":["CSS","CSS-in-JS","CSS-in-CSS","Styled Components","rebass","CSS Modules","nextjs"]}},"next":{"fields":{"slug":"/2023/08/24/tricky-zindex/"},"frontmatter":{"title":"써도 써도 헷갈리는 z-index의 미스터리","tags":["CSS","z-index","front-end"]}}}},"staticQueryHashes":[]}