{"version":3,"sources":["webpack:///./src/components/css/Post.module.scss","webpack:///./src/components/Layout.js","webpack:///./src/components/css/TableOfContents.module.scss","webpack:///./src/components/Adsense.js","webpack:///./src/components/TableOfContents.js","webpack:///./src/components/Post.js","webpack:///./src/templates/blog-post.js"],"names":["module","exports","Template","props","children","data","useState","showMenu","setShowMenu","showHeader","setShowHeader","siteTitle","get","prevScrollY","setPrevScrollY","useEffect","handleScroll","curScrollY","window","pageYOffset","document","addEventListener","removeEventListener","className","s","container","htmlAttributes","lang","title","name","content","onClick","onClickMenu","cn","contentWrapper","Adsense","slot","format","adsbygoogle","push","style","display","data-ad-client","data-ad-slot","data-ad-format","data-full-width-responsive","TableOfContents","items","currentHeaderUrl","replaceItems","useMemo","replace","isCurrent","contents","dangerouslySetInnerHTML","__html","Post","isTOCVisible","tocItems","date","post","previous","next","commentRef","tocWrapper","postWrapper","html","footer","otherPosts","other","to","fields","slug","rel","frontmatter","adsenseWrapper","ref","BlogPostTemplate","pageContext","location","markdownRemark","tableOfContents","useRef","undefined","setCurrentHeaderUrl","body","appendScript","ADSENSE_SCRIPT_1","CODEPEN_SCRIPT","elem","current","UTTERANCES_SCRIPT","aboveHeaderUrl","currentOffsetY","headerElements","querySelectorAll","elemTop","getBoundingClientRect","top","isLast","length","HEADER_OFFSET_Y","split","origin","href","siteUrl","postDescription","excerpt","structuredData","datePublished","Layout","Helmet","meta","property","type","JSON","stringify","defer","src","async","repo","theme","crossorigin","pageQuery","attrs","script","createElement","Object","keys","map","key","setAttribute","appendChild"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,UAAY,gCAAgC,WAAa,iCAAiC,MAAQ,4BAA4B,KAAO,2BAA2B,YAAc,kCAAkC,OAAS,6BAA6B,WAAa,iCAAiC,MAAQ,4BAA4B,SAAW,+BAA+B,KAAO,2BAA2B,eAAiB,uC,oCCDvb,8LAWe,SAASC,EAASC,GAAQ,IAC/BC,EAAmBD,EAAnBC,SAAUC,EAASF,EAATE,KADoB,EAENC,oBAAS,GAAlCC,EAF+B,KAErBC,EAFqB,OAGFF,oBAAS,GAAtCG,EAH+B,KAGnBC,EAHmB,KAIhCC,EAAYC,IAAIP,EAAM,2BAJU,EAKAC,mBAAS,GAAxCO,EAL+B,KAKlBC,EALkB,KA0BtC,OAnBAC,qBAAU,WACR,IAAMC,EAAe,WACnB,IAAMC,EAAaC,OAAOC,YACtBF,EAAa,IAAMJ,EAAcI,GAAcR,EACjDC,GAAc,IAEbO,GAAc,IAAMJ,EAAcI,KAClCR,GAEDC,GAAc,GAEhBH,GAAYC,GAAY,GACxBM,EAAeI,OAAOC,cAGxB,OADAC,SAASC,iBAAiB,SAAUL,GAC7B,WACLI,SAASE,oBAAoB,SAAUN,MAExC,CAACH,IAEF,yBAAKU,UAAWC,IAAEC,WAChB,kBAAC,IAAD,CAAQC,eAAgB,CAAEC,KAAM,MAAQC,MAAOjB,GAC7C,0BACEkB,KAAK,2BACLC,QAAQ,gDAEV,0BACED,KAAK,0BACLC,QAAQ,8CAGZ,kBAAC,IAAD,CAAcC,QAAS,kBAAMvB,GAAY,KACvC,kBAAC,IAAD,iBACML,EADN,CAEEI,SAAUA,EACVE,WAAYA,EACZuB,YAAa,kBAAMxB,GAAaD,QAGpC,0BAAMgB,UAAWU,IAAGT,IAAEU,eAAgB,aAAc9B,M,qBCxD1DJ,EAAOC,QAAU,CAAC,UAAY,2CAA2C,MAAQ,uCAAuC,SAAW,0CAA0C,UAAY,6C,iMCC1K,SAASkC,EAAT,GAA6C,IAA1BC,EAAyB,EAAzBA,KAAyB,IAAnBC,cAAmB,MAAV,OAAU,EAIzD,OAHAtB,qBAAU,YACPG,OAAOoB,YAAcpB,OAAOoB,aAAe,IAAIC,KAAK,MACpD,IAED,yBACEhB,UAAU,cACViB,MAAO,CAAEC,QAAS,SAClBC,iBAAe,0BACfC,eAAcP,EACdQ,iBAAgBP,EAChBQ,6BAA4B,S,8CCTnB,SAASC,EAAT,GAAuD,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,iBACzCC,EAAeC,mBAAQ,WAC3B,OAAIF,EACKD,EAAMI,QAAN,IACDH,EADC,QAEDA,EAFC,YAE2BxB,IAAE4B,UAF7B,KAKAL,IAER,CAACC,IACJ,OAAOD,EACL,yBAAKxB,UAAWU,IAAG,oBAAqBT,IAAEC,YACxC,wBAAIF,UAAWC,IAAEI,OAAjB,qBACA,yBACEL,UAAWC,IAAE6B,SACbC,wBAAyB,CAAEC,OAAQN,MAGrC,K,qCChBS,SAASO,EAAT,GAUX,IATFC,EASC,EATDA,aACAC,EAQC,EARDA,SACAV,EAOC,EAPDA,iBACApB,EAMC,EANDA,MACA+B,EAKC,EALDA,KACAC,EAIC,EAJDA,KACAC,EAGC,EAHDA,SACAC,EAEC,EAFDA,KACAC,EACC,EADDA,WAEA,OACE,yBAAKxC,UAAWC,IAAEC,WACfgC,GACC,yBAAKlC,UAAWC,IAAEwC,YAChB,kBAAClB,EAAD,CACEC,MAAOW,EACPV,iBAAkBA,KAIxB,gCACE,yBAAKzB,UAAWC,IAAEI,OAAQA,GAC1B,yBAAKL,UAAWC,IAAEmC,MAAOA,IAE3B,yBACEpC,UAAWC,IAAEyC,YACbX,wBAAyB,CAAEC,OAAQK,EAAKM,QAE1C,4BAAQ3C,UAAWC,IAAE2C,QACnB,yBAAK5C,UAAWC,IAAE4C,YACfP,GACC,yBAAKtC,UAAWU,IAAGT,IAAE6C,MAAO7C,IAAEqC,WAC5B,kBAAC,OAAD,CAAMS,GAAIT,EAASU,OAAOC,KAAMC,IAAI,QACjCZ,EAASa,YAAY9C,QAI3BkC,GACC,yBAAKvC,UAAWU,IAAGT,IAAE6C,MAAO7C,IAAEsC,OAC5B,kBAAC,OAAD,CAAMQ,GAAIR,EAAKS,OAAOC,KAAMC,IAAI,QAC7BX,EAAKY,YAAY9C,SAM1B,yBAAKL,UAAWC,IAAEmD,gBAChB,kBAACxC,EAAD,CAASC,KAAK,gBAEhB,yBAAKwC,IAAKb,M,+wBClDH,SAASc,EAAT,GAMX,IALFxE,EAKC,EALDA,KACAyE,EAIC,EAJDA,YACAC,EAGC,EAHDA,SAGC,IAFDnB,YAEC,MAFMvD,EAAK2E,eAEX,MADDtB,gBACC,MADUrD,EAAK2E,eAAeC,gBAC9B,EACOpB,EAAmBiB,EAAnBjB,SAAUC,EAASgB,EAAThB,KACZC,EAAamB,iBAAO,MAFzB,EAG+C5E,wBAAS6E,GAAlDnC,EAHN,KAGwBoC,EAHxB,KAsCD,GAlCArE,qBAAU,WACR,IAAMsE,EAAOjE,SAASiE,KACtBC,EAAaD,EAAME,GACnBD,EAAaD,EAAMG,GACnB,IAAMC,EAAO1B,EAAW2B,QACxBD,GAAQH,EAAaG,EAAME,KAC1B,IAEH5E,qBAAU,WACR,IAAMC,EAAe,WAInB,IAHA,IAAI4E,EAGJ,EAFMC,EAAiB3E,OAAOC,YACxB2E,EAAiB1E,SAAS2E,iBAAiB,kBACjD,IAAmBD,KAAnB,aAAmC,CAAC,IAAzBL,EAAwB,QAE3BO,EADUP,EAAKQ,wBAAbC,IACcL,EAChBM,EAASV,IAASK,EAAeA,EAAeM,OAAS,GAC/D,GAAIP,EAAiBG,EAAUK,EAAiB,CAC9CT,GACER,EAAoBQ,EAAeU,MAAMvB,EAASwB,QAAQ,KAC3DX,GAAkBR,OAAoBD,GACvC,MAEAgB,GAAUf,EAAoBK,EAAKe,KAAKF,MAAMvB,EAASwB,QAAQ,KAC9DJ,IAAWP,EAAiBH,EAAKe,QAKxC,OADAtF,OAAOG,iBAAiB,SAAUL,GAC3B,WACLE,OAAOI,oBAAoB,SAAUN,MAEtC,KAEE4C,EACH,OAAO,KAET,IAAMH,GAAeC,aAAA,EAAAA,EAAU0C,QAAS,EAzCvC,EA0CuBxC,EAAKc,YAArB9C,EA1CP,EA0COA,MAAO+B,EA1Cd,EA0CcA,KACThD,EAAYC,IAAIP,EAAM,2BACtBoG,EAAU7F,IAAIP,EAAM,6BACTqG,EAAoB9C,EAA7B+C,QACFC,EAAiB,CACrB,WAAY,oBACZ,QAAS,UACT/E,KAAMD,EACNiF,cAAelD,GAGjB,OACE,kBAACmD,EAAA,EAAD,CAAQ/B,SAAUA,EAAU1E,KAAMA,GAChC,kBAAC0G,EAAA,EAAD,CACErF,eAAgB,CAAEC,KAAM,MACxBqF,KAAM,CACJ,CAAEnF,KAAM,cAAeC,QAAS4E,GAChC,CAAEO,SAAU,UAAWnF,QAAS,WAChC,CAAEmF,SAAU,SAAUnF,QAAS2E,GAC/B,CAAEQ,SAAU,WAAYnF,QAASF,GACjC,CAAEqF,SAAU,iBAAkBnF,QAAS4E,IAEzC9E,MAAUA,EAAL,MAAgBjB,GAGrB,4BAAQuG,KAAK,uBACVC,KAAKC,UAAUR,KAGpB,kBAACpD,EAAD,CACEC,aAAcA,EACdC,SAAUA,EACVV,iBAAkBA,EAClBpB,MAAOA,EACP+B,KAAMA,EACNC,KAAMA,EACNC,SAAUA,EACVC,KAAMA,EACNC,WAAYA,KAMpB,IAAMwB,EAAmB,CACvB8B,OAAO,EACPC,IAAK,4DAED9B,EAAiB,CACrB6B,OAAO,EACPC,IAAK,gDAED3B,EAAoB,CACxB4B,OAAO,EACPD,IAAK,gCACLE,KAAM,sBACN,aAAc,WACdC,MAAO,eACPC,YAAa,aAGFC,EAAS,aAwBtB,SAASrC,EAAaG,EAAMmC,GAC1B,IAAMC,EAASzG,SAAS0G,cAAc,UACtCC,OAAOC,KAAKJ,GAAOK,KAAI,SAACC,GACtBL,EAAOM,aAAaD,EAAKN,EAAMM,OAEjCzC,EAAK2C,YAAYP,GAGnB,IAAMxB,EAAkB","file":"component---src-templates-blog-post-js-bbd5df510b96960eb8ae.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Post-module--container--2YQwi\",\"tocWrapper\":\"Post-module--tocWrapper--2QQTs\",\"title\":\"Post-module--title--2VXvj\",\"date\":\"Post-module--date--21BHx\",\"postWrapper\":\"Post-module--postWrapper--36i9Z\",\"footer\":\"Post-module--footer--OQfhK\",\"otherPosts\":\"Post-module--otherPosts--3j5YT\",\"other\":\"Post-module--other--3aWMw\",\"previous\":\"Post-module--previous--1SAAG\",\"next\":\"Post-module--next--378Ow\",\"adsenseWrapper\":\"Post-module--adsenseWrapper--cXBjK\"};","import React, { useState, useEffect } from 'react';\r\nimport Header from './Header';\r\nimport '../common/css/reset.scss';\r\nimport 'prismjs/themes/prism-tomorrow.css';\r\nimport '../common/css/common.scss';\r\nimport OutsideClick from './OutsideClick';\r\nimport { Helmet } from 'react-helmet';\r\nimport get from 'lodash/get';\r\nimport s from './css/Layout.module.scss';\r\nimport cn from 'classnames';\r\n\r\nexport default function Template(props) {\r\n  const { children, data } = props;\r\n  const [showMenu, setShowMenu] = useState(false);\r\n  const [showHeader, setShowHeader] = useState(true);\r\n  const siteTitle = get(data, 'site.siteMetadata.title');\r\n  const [prevScrollY, setPrevScrollY] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      const curScrollY = window.pageYOffset;\r\n      if (curScrollY > 80 && prevScrollY < curScrollY && showHeader) {\r\n        setShowHeader(false);\r\n      } else if (\r\n        (curScrollY <= 80 || prevScrollY > curScrollY) &&\r\n        !showHeader\r\n      ) {\r\n        setShowHeader(true);\r\n      }\r\n      showMenu && setShowMenu(false);\r\n      setPrevScrollY(window.pageYOffset);\r\n    };\r\n    document.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      document.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, [prevScrollY]);\r\n  return (\r\n    <div className={s.container}>\r\n      <Helmet htmlAttributes={{ lang: 'ko' }} title={siteTitle}>\r\n        <meta\r\n          name=\"google-site-verification\"\r\n          content=\"R3ZeY1PmaJUY9j_cgNABjesJFgHWVCJpb4TsdfXntMA\"\r\n        />\r\n        <meta\r\n          name=\"naver-site-verification\"\r\n          content=\"23eddf7267bb527337927baff11fc26157637f30\"\r\n        />\r\n      </Helmet>\r\n      <OutsideClick onClick={() => setShowMenu(false)}>\r\n        <Header\r\n          {...props}\r\n          showMenu={showMenu}\r\n          showHeader={showHeader}\r\n          onClickMenu={() => setShowMenu(!showMenu)}\r\n        />\r\n      </OutsideClick>\r\n      <main className={cn(s.contentWrapper, 'contents')}>{children}</main>\r\n    </div>\r\n  );\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"TableOfContents-module--container--n70xy\",\"title\":\"TableOfContents-module--title--10vJa\",\"contents\":\"TableOfContents-module--contents--I_bZr\",\"isCurrent\":\"TableOfContents-module--isCurrent--1WRDY\"};","import React, { useEffect } from 'react';\r\n\r\nexport default function Adsense({ slot, format = 'auto' }) {\r\n  useEffect(() => {\r\n    (window.adsbygoogle = window.adsbygoogle || []).push({});\r\n  }, []);\r\n  return (\r\n    <ins\r\n      className=\"adsbygoogle\"\r\n      style={{ display: 'block' }}\r\n      data-ad-client=\"ca-pub-4588610260101909\"\r\n      data-ad-slot={slot}\r\n      data-ad-format={format}\r\n      data-full-width-responsive={'true'}\r\n    />\r\n  );\r\n}\r\n","import React, { useMemo } from 'react';\r\nimport s from './css/TableOfContents.module.scss';\r\nimport cn from 'classnames';\r\n\r\nexport default function TableOfContents({ items, currentHeaderUrl }) {\r\n  const replaceItems = useMemo(() => {\r\n    if (currentHeaderUrl) {\r\n      return items.replace(\r\n        `\"${currentHeaderUrl}\"`,\r\n        `\"${currentHeaderUrl}\" class=\"${s.isCurrent}\"`\r\n      );\r\n    } else {\r\n      return items;\r\n    }\r\n  }, [currentHeaderUrl]);\r\n  return items ? (\r\n    <nav className={cn('table-of-contents', s.container)}>\r\n      <h3 className={s.title}>TABLE OF CONTENTS</h3>\r\n      <div\r\n        className={s.contents}\r\n        dangerouslySetInnerHTML={{ __html: replaceItems }}\r\n      />\r\n    </nav>\r\n  ) : null;\r\n}\r\n","import React from 'react';\r\nimport Adsense from '../components/Adsense';\r\nimport TableOfContents from '../components/TableOfContents';\r\nimport s from './css/Post.module.scss';\r\nimport cn from 'classnames';\r\nimport { Link } from 'gatsby';\r\n\r\nexport default function Post({\r\n  isTOCVisible,\r\n  tocItems,\r\n  currentHeaderUrl,\r\n  title,\r\n  date,\r\n  post,\r\n  previous,\r\n  next,\r\n  commentRef,\r\n}) {\r\n  return (\r\n    <div className={s.container}>\r\n      {isTOCVisible && (\r\n        <div className={s.tocWrapper}>\r\n          <TableOfContents\r\n            items={tocItems}\r\n            currentHeaderUrl={currentHeaderUrl}\r\n          />\r\n        </div>\r\n      )}\r\n      <header>\r\n        <div className={s.title}>{title}</div>\r\n        <div className={s.date}>{date}</div>\r\n      </header>\r\n      <div\r\n        className={s.postWrapper}\r\n        dangerouslySetInnerHTML={{ __html: post.html }}\r\n      />\r\n      <footer className={s.footer}>\r\n        <div className={s.otherPosts}>\r\n          {previous && (\r\n            <div className={cn(s.other, s.previous)}>\r\n              <Link to={previous.fields.slug} rel=\"prev\">\r\n                {previous.frontmatter.title}\r\n              </Link>\r\n            </div>\r\n          )}\r\n          {next && (\r\n            <div className={cn(s.other, s.next)}>\r\n              <Link to={next.fields.slug} rel=\"next\">\r\n                {next.frontmatter.title}\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {/* 하단 광고 */}\r\n        <div className={s.adsenseWrapper}>\r\n          <Adsense slot=\"5306007932\" />\r\n        </div>\r\n        <div ref={commentRef} />\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { graphql } from 'gatsby';\r\nimport get from 'lodash/get';\r\nimport Layout from '../components/Layout';\r\nimport Post from '../components/Post';\r\n\r\nexport default function BlogPostTemplate({\r\n  data,\r\n  pageContext,\r\n  location,\r\n  post = data.markdownRemark,\r\n  tocItems = data.markdownRemark.tableOfContents,\r\n}) {\r\n  const { previous, next } = pageContext;\r\n  const commentRef = useRef(null);\r\n  const [currentHeaderUrl, setCurrentHeaderUrl] = useState(undefined);\r\n  useEffect(() => {\r\n    const body = document.body;\r\n    appendScript(body, ADSENSE_SCRIPT_1);\r\n    appendScript(body, CODEPEN_SCRIPT);\r\n    const elem = commentRef.current;\r\n    elem && appendScript(elem, UTTERANCES_SCRIPT);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      let aboveHeaderUrl;\r\n      const currentOffsetY = window.pageYOffset;\r\n      const headerElements = document.querySelectorAll('.anchor-header');\r\n      for (const elem of headerElements) {\r\n        const { top } = elem.getBoundingClientRect();\r\n        const elemTop = top + currentOffsetY;\r\n        const isLast = elem === headerElements[headerElements.length - 1];\r\n        if (currentOffsetY < elemTop - HEADER_OFFSET_Y) {\r\n          aboveHeaderUrl &&\r\n            setCurrentHeaderUrl(aboveHeaderUrl.split(location.origin)[1]);\r\n          !aboveHeaderUrl && setCurrentHeaderUrl(undefined);\r\n          break;\r\n        } else {\r\n          isLast && setCurrentHeaderUrl(elem.href.split(location.origin)[1]);\r\n          !isLast && (aboveHeaderUrl = elem.href);\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener('scroll', handleScroll);\r\n    return () => {\r\n      window.removeEventListener('scroll', handleScroll);\r\n    };\r\n  }, []);\r\n\r\n  if (!post) {\r\n    return null;\r\n  }\r\n  const isTOCVisible = tocItems?.length > 0;\r\n  const { title, date } = post.frontmatter;\r\n  const siteTitle = get(data, 'site.siteMetadata.title');\r\n  const siteUrl = get(data, 'site.siteMetadata.siteUrl');\r\n  const { excerpt: postDescription } = post;\r\n  const structuredData = {\r\n    '@context': 'http://schema.org',\r\n    '@type': 'Article',\r\n    name: title,\r\n    datePublished: date,\r\n  };\r\n\r\n  return (\r\n    <Layout location={location} data={data}>\r\n      <Helmet\r\n        htmlAttributes={{ lang: 'ko' }}\r\n        meta={[\r\n          { name: 'description', content: postDescription },\r\n          { property: 'og:type', content: 'website' },\r\n          { property: 'og:url', content: siteUrl },\r\n          { property: 'og:title', content: title },\r\n          { property: 'og:description', content: postDescription }\r\n        ]}\r\n        title={`${title} | ${siteTitle}`}\r\n      >\r\n        {/* <link rel=\"canonical\" href={fields?.slug} /> */}\r\n        <script type=\"application/ld+json\">\r\n          {JSON.stringify(structuredData)}\r\n        </script>\r\n      </Helmet>\r\n      <Post\r\n        isTOCVisible={isTOCVisible}\r\n        tocItems={tocItems}\r\n        currentHeaderUrl={currentHeaderUrl}\r\n        title={title}\r\n        date={date}\r\n        post={post}\r\n        previous={previous}\r\n        next={next}\r\n        commentRef={commentRef}\r\n      />\r\n    </Layout>\r\n  );\r\n}\r\n\r\nconst ADSENSE_SCRIPT_1 = {\r\n  defer: true,\r\n  src: '//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js',\r\n};\r\nconst CODEPEN_SCRIPT = {\r\n  defer: true,\r\n  src: 'https://static.codepen.io/assets/embed/ei.js',\r\n};\r\nconst UTTERANCES_SCRIPT = {\r\n  async: true,\r\n  src: 'https://utteranc.es/client.js',\r\n  repo: 'blueshw/gatsby-blog',\r\n  'issue-term': 'pathname',\r\n  theme: 'github-light',\r\n  crossorigin: 'anonymous',\r\n};\r\n\r\nexport const pageQuery = graphql`\r\n  query BlogPostBySlug($slug: String!) {\r\n    site {\r\n      siteMetadata {\r\n        title\r\n        author\r\n      }\r\n    }\r\n    markdownRemark(fields: { slug: { eq: $slug } }) {\r\n      id\r\n      excerpt(truncate: true)\r\n      html\r\n      tableOfContents\r\n      frontmatter {\r\n        title\r\n        date(formatString: \"YYYY-MM-DD\")\r\n      }\r\n      # fields {\r\n      #   slug\r\n      # }\r\n    }\r\n  }\r\n`;\r\n\r\nfunction appendScript(elem, attrs) {\r\n  const script = document.createElement('script');\r\n  Object.keys(attrs).map((key) => {\r\n    script.setAttribute(key, attrs[key]);\r\n  });\r\n  elem.appendChild(script);\r\n}\r\n\r\nconst HEADER_OFFSET_Y = 100;\r\n"],"sourceRoot":""}